analytics_user: analytics
analytics_group: analytics
analytics_user_home: /home/{{analytics_user}}
sbin_path: "{{ analytics_user_home }}/sbin"
azure_container_name: "{{secor_azure_container_name}}"
azure_account_key: "{{sunbird_private_storage_account_key}}"

telemetry_ingestion_topic: "{{ env }}.telemetry.ingest"

secor:
  properties: ['secor.azure', 'secor.common', 'secor', 'secor.partition', 'log4j']
  artifact_dir: /mount/secor

secor_service_name:
  failed-telemetry-backup:
    consumer_group: "{{ env }}.telemetry.failed.backup"
    base_path: "failed"
    timestamp_key: "syncts"
    fallback_timestamp_key: "@timestamp"
    topic: "{{ env }}.telemetry.failed"
    kafka_broker_host: "{{groups['processing-cluster-kafka']|join(',')}}"
    zookeeper_quorum: "{{groups['processing-cluster-zookeepers']|join(':2181,')}}:2181"
    max_file_size: "100000000"
    max_file_age: "14400"
    partition_prefix_enabled: "false"
    partition_prefix_key: ""
    partition_prefix_mapping: "{}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "Failed Telemetry Backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "50"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"
  raw-telemetry-backup:
    consumer_group: "{{ env }}.telemetry.raw.backup"
    base_path: "raw"
    timestamp_key: "syncts"
    fallback_timestamp_key: "@timestamp"
    topic: "{{ env }}.telemetry.raw"
    kafka_broker_host: "{{groups['processing-cluster-kafka']|join(',')}}"
    zookeeper_quorum: "{{groups['processing-cluster-zookeepers']|join(':2181,')}}:2181"
    max_file_size: "100000000"
    max_file_age: "14400"
    partition_prefix_enabled: "false"
    partition_prefix_key: ""
    partition_prefix_mapping: "{}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "Raw Telemetry Backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "50"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"
  unique-telemetry-backup:
    consumer_group: "{{ env }}.telemetry.unique.backup"
    base_path: "unique/raw"
    timestamp_key: "syncts"
    fallback_timestamp_key: "@timestamp"
    topic: "{{ env }}.telemetry.unique"
    kafka_broker_host: "{{groups['processing-cluster-kafka']|join(',')}}"
    zookeeper_quorum: "{{groups['processing-cluster-zookeepers']|join(':2181,')}}:2181"
    max_file_size: "100000000"
    max_file_age: "14400"
    partition_prefix_enabled: "false"
    partition_prefix_key: ""
    partition_prefix_mapping: "{}"
    output_file_pattern: "{partition}-{kafkaPartition}-{currentTimestamp}.json"
    service_description: "Unique Telemetry Backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "50"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"
  denorm-events-backup:
    consumer_group: "{{ env }}.telemetry.denorm.backup"
    base_path: "telemetry-denormalized"
    timestamp_key: "syncts"
    fallback_timestamp_key: "@timestamp"
    topic: "{{ env }}.telemetry.denorm"
    kafka_broker_host: "{{groups['processing-cluster-kafka']|join(',')}}"
    zookeeper_quorum: "{{groups['processing-cluster-zookeepers']|join(':2181,')}}:2181"
    max_file_size: "100000000"
    max_file_age: "14400"
    partition_prefix_enabled: "true"
    partition_prefix_key: "eid"
    partition_prefix_mapping: "{\"ME_SESSION_SUMMARY\":\"summary\",\"ME_WORKFLOW_SUMMARY\":\"summary\",\"ME_DEIVCE_SUMMARY\":\"summary\",\"ME_ITEM_SUMMARY\":\"summary\",\"ME_WORKFLOW_USAGE_SUMMARY\":\"summary\",\"ME_ITEM_USAGE_SUMMARY\":\"summary\",\"ME_USAGE_SUMMARY\":\"summary\",\"ME_DIALCODE_USAGE_SUMMARY\":\"summary\",\"DEFAULT\":\"raw\"}"
    output_file_pattern: "{partition}-{kafkaPartition}-{currentTimestamp}.json"
    service_description: "Denormalized Events Backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "50"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"
  derived-denorm-events-backup:
    consumer_group: "{{ env }}.summary.backup"
    base_path: "telemetry-denormalized/summary"
    timestamp_key: "syncts"
    fallback_timestamp_key: "@timestamp"
    topic: "{{ env }}.druid.events.summary"
    kafka_broker_host: "{{groups['processing-cluster-kafka']|join(',')}}"
    zookeeper_quorum: "{{groups['processing-cluster-zookeepers']|join(':2181,')}}:2181"
    max_file_size: "100000000"
    max_file_age: "14400"
    partition_prefix_enabled: "false"
    partition_prefix_key: ""
    partition_prefix_mapping: "{}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "Denormalized Summary Events Backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "50"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"  
  channel-telemetry-backup:
    consumer_group: "{{ env }}.telemetry.channel.backup"
    base_path: "data-exhaust/raw"
    timestamp_key: "syncts"
    fallback_timestamp_key: "@timestamp"
    topic: "{{ env }}.telemetry.denorm"
    kafka_broker_host: "{{groups['processing-cluster-kafka']|join(',')}}"
    zookeeper_quorum: "{{groups['processing-cluster-zookeepers']|join(':2181,')}}:2181"
    max_file_size: "100000000"
    max_file_age: "14400"
    partition_prefix_enabled: "false"
    partition_prefix_key: "eid"
    partition_prefix_mapping: "{}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "Data Exhaust Telemetry Backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "50"
    message_channel_identifier: "derivedlocationdata.state"
    message_parser: "com.pinterest.secor.parser.ChannelDateMessageParser"
  channel-summary-backup:
    consumer_group: "{{ env }}.summary.channel.backup"
    base_path: "data-exhaust/summary"
    timestamp_key: "syncts"
    fallback_timestamp_key: "@timestamp"
    topic: "{{ env }}.druid.events.summary"
    kafka_broker_host: "{{groups['processing-cluster-kafka']|join(',')}}"
    zookeeper_quorum: "{{groups['processing-cluster-zookeepers']|join(':2181,')}}:2181"
    max_file_size: "100000000"
    max_file_age: "14400"
    partition_prefix_enabled: "false"
    partition_prefix_key: ""
    partition_prefix_mapping: "{}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "Data Exhaust Summary Backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "50"
    message_channel_identifier: "derivedlocationdata.state"
    message_parser: "com.pinterest.secor.parser.ChannelDateMessageParser"    
  extractor-failed-backup:
    consumer_group: "{{ env }}.extractor.failed.backup"
    base_path: "extractor-failed"
    timestamp_key: "syncts"
    fallback_timestamp_key: "@timestamp"
    topic: "{{ env }}.telemetry.extractor.failed"
    kafka_broker_host: "{{groups['processing-cluster-kafka']|join(',')}}"
    zookeeper_quorum: "{{groups['processing-cluster-zookeepers']|join(':2181,')}}:2181"
    max_file_size: "100000000"
    max_file_age: "21600"
    partition_prefix_enabled: "false"
    partition_prefix_key: ""
    partition_prefix_mapping: "{}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "Extractor failed events backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "50"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"
  assess-raw-events-backup:
    consumer_group: "{{ env }}.telemetry.assess.raw"
    base_path: "telemetry-raw-assess"
    timestamp_key: "syncts"
    fallback_timestamp_key: "@timestamp"
    topic: "{{ env }}.telemetry.assess.raw"
    kafka_broker_host: "{{groups['processing-cluster-kafka']|join(',')}}"
    zookeeper_quorum: "{{groups['processing-cluster-zookeepers']|join(':2181,')}}:2181"
    max_file_size: "100000000"
    max_file_age: "21600"
    partition_prefix_enabled: "false"
    partition_prefix_key: ""
    partition_prefix_mapping: "{}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "Telemetry raw assess events backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "50"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"
  telemetry-ingest-backup:
    consumer_group: "{{ env }}.telemetry.ingest.backup"
    base_path: "ingest-telemetry"
    timestamp_key: "syncts"
    fallback_timestamp_key: "@timestamp"
    topic: "{{ env }}.telemetry.ingest"
    kafka_broker_host: "{{groups['processing-cluster-kafka']|join(',')}}"
    zookeeper_quorum: "{{groups['processing-cluster-zookeepers']|join(':2181,')}}:2181"
    max_file_size: "100000000"
    max_file_age: "14400"
    partition_prefix_enabled: "false"
    partition_prefix_key: ""
    partition_prefix_mapping: "{}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "Ingestion cluster Telemetry Backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "54"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"
  telemetry-duplicate-backup:
    consumer_group: "{{ env }}.telemetry.duplicate.backup"
    base_path: "telemetry-duplicate"
    timestamp_key: "syncts"
    fallback_timestamp_key: "@timestamp"
    topic: "{{ env }}.telemetry.duplicate"
    kafka_broker_host: "{{groups['processing-cluster-kafka']|join(',')}}"
    zookeeper_quorum: "{{groups['processing-cluster-zookeepers']|join(':2181,')}}:2181"
    max_file_size: "100000000"
    max_file_age: "14400"
    partition_prefix_enabled: "false"
    partition_prefix_key: ""
    partition_prefix_mapping: "{}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "Telemetry Duplicate Backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "50"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"
  extractor-duplicate-backup:
    consumer_group: "{{ env }}.extractor.duplicate.backup"
    base_path: "extractor-duplicate"
    timestamp_key: "syncts"
    fallback_timestamp_key: "@timestamp"
    topic: "{{ env }}.telemetry.extractor.duplicate"
    kafka_broker_host: "{{groups['processing-cluster-kafka']|join(',')}}"
    zookeeper_quorum: "{{groups['processing-cluster-zookeepers']|join(':2181,')}}:2181"
    max_file_size: "100000000"
    max_file_age: "14400"
    partition_prefix_enabled: "false"
    partition_prefix_key: ""
    partition_prefix_mapping: "{}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "Telemetry Duplicate Backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "50"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"
  derived-telemetry-backup:
    consumer_group: "{{ env }}.telemetry.derived.unique.backup"
    base_path: "unique/summary"
    timestamp_key: "syncts"
    fallback_timestamp_key: "@timestamp"
    topic: "{{ env }}.telemetry.derived.unique"
    kafka_broker_host: "{{groups['processing-cluster-kafka']|join(',')}}"
    zookeeper_quorum: "{{groups['processing-cluster-zookeepers']|join(':2181,')}}:2181"
    max_file_size: "100000000"
    max_file_age: "600"
    partition_prefix_enabled: "true"
    partition_prefix_key: "eid"
    partition_prefix_mapping: "{\"ME_SESSION_SUMMARY\":\"session_summary\",\"ME_WORKFLOW_SUMMARY\":\"workflow_summary\",\"ME_DEIVCE_SUMMARY\":\"device_summary\",\"ME_ITEM_SUMMARY\":\"item_summary\",\"ME_WORKFLOW_USAGE_SUMMARY\":\"workflow_usage_summary\",\"ME_ITEM_USAGE_SUMMARY\":\"item_usage_summary\",\"ME_USAGE_SUMMARY\":\"usage_summary\",\"ME_DIALCODE_USAGE_SUMMARY\":\"dialcode_usage_summary\",\"DEFAULT\":\"me\"}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "Derived Telemetry Backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "52"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"
  device-profile-backup:
    consumer_group: "{{ env }}.events.device.profile.backup"
    base_path: "device-profile-events"
    timestamp_key: "updated_date"
    fallback_timestamp_key: "updated_date"
    topic: "{{ env }}.events.deviceprofile"
    kafka_broker_host: "{{ secor_ingestion_kafka_brokers }}"
    zookeeper_quorum: "{{ ingestion_zookeepers }}"
    max_file_size: "100000000"
    max_file_age: "14400"
    partition_prefix_enabled: "false"
    partition_prefix_key: ""
    partition_prefix_mapping: "{}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "Device Profile Backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "50"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"
  learning-events-backup:
    consumer_group: "{{ env }}.learning.graph.events.backup"
    base_path: "learning-events"
    timestamp_key: "createdOn"
    fallback_timestamp_key: "@timestamp"
    topic: "{{ env }}.learning.graph.events"
    kafka_broker_host: "{{ secor_ingestion_kafka_brokers }}"
    zookeeper_quorum: "{{ ingestion_zookeepers }}"
    max_file_size: "100000000"
    max_file_age: "14400"
    partition_prefix_enabled: "false"
    partition_prefix_key: ""
    partition_prefix_mapping: "{}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "Learning Events Backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "56"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"
  learning-failed-backup:
    consumer_group: "{{ env }}.failed.learning.events.backup"
    base_path: "learning-failed-events"
    timestamp_key: "ets"
    fallback_timestamp_key: "@timestamp"
    azure_account_name: "{{ secor.azure.account_name }}"
    container_name: "{{ secor.azure.container_name }}"
    azure_account_key: "{{ secor.azure.account_key }}"
    topic: "{{ env }}.learning.events.failed"
    kafka_broker_host: "{{ secor_ingestion_kafka_brokers }}"
    zookeeper_quorum: "{{ ingestion_zookeepers }}"
    max_file_size: "100000000"
    max_file_age: "3600"
    partition_prefix_enabled: "true"
    partition_prefix_key: "jobName"
    partition_prefix_mapping: "{\"publish-pipeline\":\"publish_pipeline\",\"composite-search-indexer\":\"cs_index\",\"DEFAULT\":\"failed_events\"}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "Learning Failed Backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "52"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"
  assess-events-backup:
    consumer_group: "{{ env }}.telemetry.assess.events.backup"
    base_path: "telemetry-batch-assess"
    timestamp_key: "assessmentTs"
    fallback_timestamp_key: "assessmentTs"
    topic: "{{ env }}.telemetry.assess"
    kafka_broker_host: "{{ secor_ingestion_kafka_brokers }}"
    zookeeper_quorum: "{{ ingestion_zookeepers }}"
    max_file_size: "100000000"
    max_file_age: "21600"
    partition_prefix_enabled: "false"
    partition_prefix_key: ""
    partition_prefix_mapping: "{}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "Telemetry Batch assess events backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "50"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"
  ingestion-cluster-telemetry-backup:
    consumer_group: "{{ env }}.telemetry.ingestion.events.backup"
    base_path: "ingestion-telemetry"
    timestamp_key: "syncts"
    fallback_timestamp_key: "@timestamp"
    topic: "{{ telemetry_ingestion_topic }}"
    kafka_broker_host: "{{ secor_ingestion_kafka_brokers }}"
    zookeeper_quorum: "{{ ingestion_zookeepers }}"
    max_file_size: "100000000"
    max_file_age: "14400"
    partition_prefix_enabled: "false"
    partition_prefix_key: ""
    partition_prefix_mapping: "{}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "Ingestion cluster Telemetry Backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "54"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"
  content-consumption-events-backup:
    consumer_group: "{{ env }}.coursebatch.job.request.backup"
    base_path: "content-consumption-events"
    timestamp_key: "ets"
    fallback_timestamp_key: "@timestamp"
    topic: "{{ env }}.coursebatch.job.request"
    kafka_broker_host: "{{ secor_ingestion_kafka_brokers }}"
    zookeeper_quorum: "{{ ingestion_zookeepers }}"
    max_file_size: "100000000"
    max_file_age: "14400"
    partition_prefix_enabled: "false"
    partition_prefix_key: ""
    partition_prefix_mapping: "{}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "Content Consumption Events Backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "56"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"
  issue-certificate-events-backup:
    consumer_group: "{{ env }}.issue.certificate.request.backup"
    base_path: "issue-certificate-events"
    timestamp_key: "ets"
    fallback_timestamp_key: "@timestamp"
    topic: "{{ env }}.issue.certificate.request"
    kafka_broker_host: "{{ secor_ingestion_kafka_brokers }}"
    zookeeper_quorum: "{{ ingestion_zookeepers }}"
    max_file_size: "100000000"
    max_file_age: "14400"
    partition_prefix_enabled: "false"
    partition_prefix_key: ""
    partition_prefix_mapping: "{}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "Issue Certificate Events Backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "55"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"
  content-auto-creation-events-backup:
    consumer_group: "{{ env }}.auto.creation.job.request.backup"
    base_path: "content-auto-creation-events"
    timestamp_key: "ets"
    fallback_timestamp_key: "@timestamp"
    topic: "{{ env }}.auto.creation.job.request"
    kafka_broker_host: "{{ secor_ingestion_kafka_brokers }}"
    zookeeper_quorum: "{{ ingestion_zookeepers }}"
    max_file_size: "100000000"
    max_file_age: "14400"
    partition_prefix_enabled: "false"
    partition_prefix_key: ""
    partition_prefix_mapping: "{}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "Content Auto Creation Events Backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "57"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"
  cb-audit-telemetry-backup:
    consumer_group: "{{ env }}.telemetry.cb.audit.backup"
    base_path: "cb-audit"
    timestamp_key: "syncts"
    fallback_timestamp_key: "@timestamp"
    topic: "{{ env }}.telemetry.cb.audit"
    kafka_broker_host: "{{ secor_ingestion_kafka_brokers }}"
    zookeeper_quorum: "{{ ingestion_zookeepers }}"
    max_file_size: "100000000"
    max_file_age: "7200"
    partition_prefix_enabled: "false"
    partition_prefix_key: ""
    partition_prefix_mapping: "{}"
    output_file_pattern: "{partition}-{currentTimestamp}.json"
    service_description: "CB Audit Telemetry Backup"
    service_monitor_schedule_hr: "23"
    service_monitor_schedule_min: "50"
    message_channel_identifier: ""
    message_parser: "com.pinterest.secor.parser.PatternDateMessageParser"