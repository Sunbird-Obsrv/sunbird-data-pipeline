admin_name: "{{ spark_cluster_user_name }}"
admin_password: "{{ spark_cluster_user_password }}"
spark_cluster_name: "{{env}}-spark-cluster"

analytics_core_artifact: "analytics-framework-2.0.jar"
scruid_artifact: "scruid_2.11-2.3.2.jar"
analytics_batch_module_artifact: "batch-models-2.0.jar"
analytics_ed_dataporducts_artifact: "data-products-1.0.jar"

bucket: "dev-data-store"
azure_models_path: "models"
azure_account: "{{ sunbird_private_storage_account_name }}"
azure_secret: "{{ sunbird_private_storage_account_key }}"
brokerlist: "{{groups['processing-cluster-kafka']|join(':9092,')}}:9092"
topic: "{{ env }}.telemetry.derived.test"

spark_cassandra_connection_host: "{{ core_cassandra_host }}"
spark_elasticsearch_connection_host: "{{ sunbird_es_host }}"
spark_redis_connection_host: "{{ redis_host }}"
spark_userdb_redis_index: "12"

#execution_date: 2020-05-13
execution_date: "{{ '%Y-%m-%d'|strftime(ansible_date_time.epoch|int - 86400) }}"

spark_cluster:
  driver_memory: 7g
  memory_fraction: 0.3
  storage_fraction: 0.5
  executor_core: 3
  executor_memory: 12G
  num_executors: 5

analytics:
  home: "/tmp"

model_version: "2.0"
analytics_metrics_topic: "{{ env }}.analytics_metrics"
sink_topic: "{{ env }}.telemetry.sink"
druid_broker_host: "{{groups['raw-broker'][0]}}"
producer_env: "dev.sunbird"
spark_output_temp_dir: /mount/data/analytics/tmp/
reports_container: "reports"