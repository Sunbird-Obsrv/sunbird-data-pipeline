#!/usr/bin/env bash

config() {
	bucket={{ bucket }}
	datasetRawBucket={{ datasetRawBucket }}
	dataExhaustBucket={{ dataExhaustBucket }}
	dataExhaustPrefix={{ dataExhaustPrefix }}
	consumptionRawPrefix={{ consumptionRawPrefix }}
	brokerList={{ brokerlist }}
    job_topic={{ analytics_job_queue_topic }}
	topic={{ topic }}
	learning_topic={{ learning_topic }}
	currentDate=$(date "+%Y-%m-%d");
	temp_folder={{ job_manager_tmp_dir }}
	analytics_home={{ analytics.home }}

	if [ -z "$2" ]; then endDate=$(date --date yesterday "+%Y-%m-%d"); else endDate=$2; fi
	case "$1" in
	   	"ss")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"raw/","endDate":"'$endDate'","delta":0}]},"model":"org.ekstep.analytics.model.LearnerSessionSummary","modelParams":{"apiVersion":"v2"},"output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/ss/'$endDate'"}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":8,"appName":"Learner Session Summarizer","deviceMapping":true}'
  	   	;;
	   	"is")
	   	echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/ss/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.ItemSummary","modelParams":{"apiVersion":"v2"},"output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/is/'$endDate'"}},{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":8,"appName":"Item Summarizer","deviceMapping":false}'
	   	;;
	   	"gls")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"raw/","endDate":"'$endDate'","delta":0}]},"filters":[{"name":"ver","operator":"NE","value":"3.0"}],"model":"org.ekstep.analytics.model.GenieLaunchSummary","modelParams":{"apiVersion":"v2"},"output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/gls/'$endDate'"}},{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":8,"appName":"Genie Launch Summarizer","deviceMapping":false}'
		;;
		"cus")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/ss/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.ContentUsageSummary","output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/cus/'$endDate'"}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":10,"appName":"Content Usage Summarizer","deviceMapping":false}'
  		;;
        "app-ss")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"portal/","endDate":"'$endDate'","delta":0}]}, "appName":"Portal Session Summarizer", "modelParams":{"idleTime":600,"appId":"EkstepPortal"}, "output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/app-ss/'$endDate'"}},{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}]}'
		;;
		"app-usage")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/app-ss/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.PortalUsageSummaryModel","output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/app-usage/'$endDate'"}},{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":8,"appName":"Portal Usage Summary Model","deviceMapping":true}'
		;;
		"job-manager")
		echo '{"jobsCount":45,"topic":"'$job_topic'","bootStrapServer":"'$brokerList'","consumerGroup":"jobmanager","slackChannel":"#test_channel","slackUserName":"JobManager","tempBucket":"'$bucket'","tempFolder":"'$temp_folder'"}'
		;;
		"gss")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"raw/","endDate":"'$endDate'","delta":0}]},"model":"org.ekstep.analytics.model.GenieUsageSessionSummary","modelParams":{"apiVersion":"v2"},"output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/gss/'$endDate'"}},{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":8,"appName":"Genie Session Summarizer","deviceMapping":false}'
		;;
		"css")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"raw/","endDate":"'$endDate'","delta":0}]},"model":"org.ekstep.analytics.model.ContentSideloadingSummarizer","output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/css/'$endDate'"}},{"to":"console","params":{"printEvent":false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":10,"appName":"Content Sideloading Summarizer","deviceMapping":false}'
		;;
		"dus")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/gls/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.DeviceUsageSummary","output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/dus/'$endDate'"}},{"to":"console","params":{"printEvent":false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":10,"appName":"Device Usage Summarizer","deviceMapping":false}'
		;;
		"cuu")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/cus/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.updater.ContentUsageUpdater","output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"Content Usage Updater","deviceMapping":false}'
		;;
		"cmu")
        if [ -z "$2" ]; then queryDate=$currentDate; else queryDate=$endDate; fi
        echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/cus/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.updater.ContentModelUpdater","modelParams":{"date":"'$queryDate'"},"output":[{"to":"console","params":{"printEvent":false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$learning_topic'"}}],"parallelization":10,"appName":"Content Model Updater","deviceMapping":false}'
        ;;
		"as")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"raw/","endDate":"'$endDate'","delta":0}]},"filters":[{"name":"ver","operator":"EQ","value":"1.0"}],"model":"org.ekstep.analytics.model.AserScreenSummary","modelParams":{"apiVersion":"v2"},"output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/as/'$endDate'"}},{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":8,"appName":"Aser Screen Summarizer","deviceMapping":true}'
		;;
		"las")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/ss/","endDate":"'$endDate'","delta":6,"folder":"true"}]},"model":"org.ekstep.analytics.model.LearnerActivitySummary","output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/las/'$endDate'"}},{"to":"console","params":{"printEvent":false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":10,"appName":"Learner Activity Summarizer","deviceMapping":false}'
		;;
		"ls")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/las/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.UpdateLearnerActivity","output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"Learner Snapshot Updater","deviceMapping":false}'
		;;
		"lcas")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/ss/","endDate":"'$endDate'","delta":6,"folder":"true"}]},"model":"org.ekstep.analytics.updater.LearnerContentActivitySummary","output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"Learner Content Activity Updater","deviceMapping":false}'
		;;
		"lp")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/ss/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.ProficiencyUpdater","modelParams":{"alpha":1.0,"beta":1.0},"output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/lp/'$endDate'"}},{"to":"console","params":{"printEvent":false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":10,"appName":"Learner Proficiency Updater","deviceMapping":false}'
		;;
		"lcr")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/ss/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.RecommendationEngine","output":[{"to":"console","params":{"printEvent":false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":10,"appName":"Recommendation Engine","deviceMapping":false}'
		;;
		"dsu")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"raw/","endDate":"'$endDate'","delta":0}]},"model":"org.ekstep.analytics.model.DeviceSpecification","output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"Device Specification Updater","deviceMapping":false}'
		;;
		"lpu")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"raw/","endDate":"'$endDate'","delta":0}]},"model":"org.ekstep.analytics.updater.LearnerProfileUpdater","output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"Learner Profile Updater","deviceMapping":false}'
		;;
		"dcus")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/ss/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.DeviceContentUsageSummary","output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/dcus/'$endDate'"}},{"to":"console","params":{"printEvent":false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":10,"appName":"Device Content Usage Summarizer","deviceMapping":false}'
		;;
		"ctv")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/ss/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.ContentVectorsModel","modelParams":{"debug_logs":false,"content2vec.s3_bucket":"'$bucket'","content2vec.s3_key_prefix":"content2vec/model/","content2vec.model_path":"/mnt/data/analytics/content2vec/model/","content2vec_scripts_path":"/mnt/data/analytics/scripts/vidyavaani","content2vec.kafka_topic":"sandbox.learning.graph.events","content2vec.kafka_broker_list":"'$brokerList'","content2vec.corpus_path":"/mnt/data/analytics/content2vec/content_corpus/","content2vec.download_path":"/mnt/data/analytics/content2vec/download/","content2vec.search_request":{"request":{"filters":{"objectType":["Content"],"contentType":["Story","Worksheet","Collection","Game"],"status":["Live"]},"limit":1000}}},"output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"Content Vectors Model","deviceMapping":false}'
		;;
		"device-recos-training")
        echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/dus/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.DeviceRecommendationTrainingModel","modelParams":{"bucket":"'$bucket'", "libfm.executable_path":"/usr/local/bin/", "libFMTrainConfig":"-dim 1,1,0 -iter 8000 -method als -task r -regular 1,1,0 -learn_rate 10 -seed 1000 -init_stdev 0.1", "localPath":"'$analytics_home'/RE-data", "key":"model/", "trainRatio":1.0, "testRatio":1.0, "dataLimit":-1, "filterByNumContents":false, "upload_model_s3":true, "num_bins":4, "tag_dimensions":15, "text_dimensions":15, "model_name":"fm.model", "saveFeatureFile":false, "performAggregation":false},"output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"DeviceRecommendationTrainingModel","deviceMapping":false}'
        ;;
		"device-recos-scoring")
        echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/dus/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.DeviceRecommendationScoringModel","modelParams":{"bucket":"'$bucket'", "localPath":"'$analytics_home'/RE-data", "model_name":"fm.model", "key":"model/", "num_bins":4, "tag_dimensions":15, "text_dimensions":15, "upload_score_s3":false, "filterBlacklistedContents":true, "filterByNumContents":false, "saveScoresToFile":true, "saveInputData":false, "scoresTable":"device_recos"},"output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"Device Recommendation Scoring Model","deviceMapping":false}'
        ;;
        "raw-telemetry-jobs")
        echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"raw/","endDate":"'$endDate'","delta":0}]},"model":"org.ekstep.analytics.job.consolidated.RawTelemetryJob","output":[{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":8,"appName":"Raw Telemetry Jobs","deviceMapping":false}'
        ;;
        "raw-telemetry-updaters")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"raw/","endDate":"'$endDate'","delta":0}]},"model":"org.ekstep.analytics.job.consolidated.RawTelemetryUpdaters","output":[{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":8,"appName":"Raw Telemetry Updaters","deviceMapping":false}'
		;;
		"ss-jobs")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/ss/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.job.consolidated.SessionSummaryJobs","output":[{"to":"console","params":{"printEvent":false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":10,"appName":"Session Summary Jobs","deviceMapping":false}'
		;;
		"genie-launch-summ")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/gls/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.GenieUsageSummaryModel","output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/genie-launch-summ/'$endDate'"}},{"to":"console","params":{"printEvent":false}}, {"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":10,"appName":"Genie Usage Summarizer","deviceMapping":false}'
		;;
		"genie-launch-metrics")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/genie-launch-summ/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.updater.UpdateGenieUsageDB","output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"Genie Usage Updater","deviceMapping":false}'
		;;
		"item-usage-summ")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/is/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.ItemSummaryModel","output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/item-usage-summ/'$endDate'"}},{"to":"console","params":{"printEvent":false}}, {"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":10,"appName":"Item Summarizer","deviceMapping":false}'
		;;
		"item-usage-metrics")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/item-usage-summ/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.updater.UpdateItemSummaryDB","output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"Item Summary Updater","deviceMapping":false}'
		;;
		"cps")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"raw/","endDate":"'$endDate'","delta":0}]},"model":"org.ekstep.analytics.model.ContentPopularitySummaryModel","output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/cps/'$endDate'"}},{"to":"console","params":{"printEvent":false}}, {"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":10,"appName":"Content Popularity Summarizer","deviceMapping":false}'
		;;
		"cpu")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/cps/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.updater.UpdateContentPopularityDB","output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"Content Popularity Updater","deviceMapping":false}'
		;;
		"sts")
        echo '{"search":{"type":"S3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/ss/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.StageSummary","output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/sts/'$endDate'"}},{"to":"console","params":{"printEvent":false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":10,"appName":"Stage Summarizer","deviceMapping":true}'
        ;;
        "gsts")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/gls/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.GenieStageSummaryModel","output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/gsts/'$endDate'"}},{"to":"console","params":{"printEvent":false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":10,"appName":"Genie Stage Summarizer","deviceMapping":false}'
		;;
		"precomp-views")
	   	echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"raw/","endDate":"'$endDate'","delta":0}]},"model":"org.ekstep.analytics.views.PrecomputedViews","modelParams":{"apiVersion":"v2"},"output":[{"to":"console","params":{"printEvent": false}}],"parallelization":10,"appName":"Pre-computed Views","deviceMapping":false}'
	   	;;
		"gfs")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"raw/","endDate":"'$endDate'","delta":0}]},"model":"org.ekstep.analytics.model.GenieFunnelModel","modelParams":{"apiVersion":"v2"},"output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/gfs/'$endDate'"}},{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":8,"appName":"Genie Funnel Model","deviceMapping":true}'
		;;
		"gfa")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/gfs/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.GenieFunnelAggregatorModel","output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/gfa/'$endDate'"}},{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":8,"appName":"Genie Funnel Aggregator Model","deviceMapping":true}'
		;;
		"data-exhaust")
		#echo '{ "search": { "type": "s3" }, "model": "org.ekstep.analytics.model.DataExhaustJobModel", "parallelization": 8, "appName": "Data Exhaust", "deviceMapping": false, "modelParams": {}, "exhaustConfig": { "eks-consumption-raw": { "events": [ "eks-consumption-raw" ], "eventConfig": { "eks-consumption-raw": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$datasetRawBucket'", "prefix": "'$consumptionRawPrefix'" } }, "filterMapping": { "tags": { "name": "genieTag", "operator": "IN" }, "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "pdata.id", "operator": "EQ" } } } } }, "eks-consumption-summary": { "events": [ "ME_SESSION_SUMMARY", "ME_CONTENT_USAGE_SUMMARY", "ME_GENIE_LAUNCH_SUMMARY", "ME_ITEM_SUMMARY", "ME_GENIE_USAGE_SUMMARY", "ME_ITEM_USAGE_SUMMARY", "ME_ASSET_SNAPSHOT_SUMMARY", "ME_CONTENT_SNAPSHOT_SUMMARY", "ME_DEVICE_USAGE_SUMMARY", "ME_GENIE_SESSION_SUMMARY" ], "eventConfig": { "ME_SESSION_SUMMARY": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "ss/" } }, "filterMapping": { "tags": { "name": "genieTag", "operator": "IN" }, "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": true, "columnMappings": { "context.granularity": { "hidden": true }, "edata.eks.timeSpent": { "to": "Time spent on the content" }, "edata.eks.screenSummary": { "hidden": true }, "edata.eks.currentLevel": { "to": "Current Domain Level" }, "edata.eks.syncDate": { "mapFunc": "timestampToDateTime", "to": "Sync Date" }, "edata.eks.timeDiff": { "hidden": true }, "context.date_range.from": { "hidden": true }, "edata.eks.start_time": { "mapFunc": "timestampToDateTime", "to": "Content Start Time" }, "uid": { "to": "Genie User ID" }, "ets": { "hidden": true }, "dimensions.group_user": { "to": "Is Group User" }, "edata.eks.activitySummary": { "to": "Activity Summary" }, "edata.eks.end_time": { "hidden": true }, "edata.eks.eventsSummary": { "hidden": true }, "eid": { "hidden": true }, "ver": { "hidden": true }, "edata.eks.levels": { "hidden": true }, "context.pdata.id": { "hidden": true }, "edata.eks.itemResponses": { "to": "edata.eks.itemResponses" }, "dimensions.gdata.id": { "to": "Content ID" }, "edata.eks.noOfLevelTransitions": { "to": "Number of Level Transitions" }, "edata.eks.noOfAttempts": { "to": "Number of Attempts" }, "tags": { "to": "Genie Tags" }, "edata.eks.interruptTime": { "to": "Total interrupt time" }, "syncts": { "mapFunc": "timestampToDateTime", "to": "Sync time stamp" }, "edata.eks.mimeType": { "hidden": true }, "edata.eks.telemetryVersion": { "to": "Telemetry Version" }, "context.pdata.ver": { "hidden": true }, "dimensions.gdata.ver": { "hidden": true }, "edata.eks.interactEventsPerMin": { "to": "Number of interactions per minute" }, "edata.eks.contentType": { "to": "Content Type" }, "context.pdata.model": { "hidden": true }, "dimensions.anonymous_user": { "to": "Logged in User" }, "dimensions.did": { "to": "Device ID" }, "dimensions.loc": { "to": "Lat / Long" }, "mid": { "to": "Session ID" }, "edata.eks.noOfInteractEvents": { "to": "Number of Interact events in the content session" }, "context.date_range.to": { "hidden": true } } } }, "ME_CONTENT_USAGE_SUMMARY": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "cus/" } }, "filterMapping": { "tags": { "name": "genieTag", "operator": "IN" }, "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": false, "columnMappings": {} } }, "ME_GENIE_LAUNCH_SUMMARY": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "gls/" } }, "filterMapping": { "tags": { "name": "genieTag", "operator": "IN" }, "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": false, "columnMappings": {} } }, "ME_ITEM_SUMMARY": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "is/" } }, "filterMapping": { "tags": { "name": "genieTag", "operator": "IN" }, "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": false, "columnMappings": {} } }, "ME_GENIE_USAGE_SUMMARY": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "genie-launch-summ/" } }, "filterMapping": { "tags": { "name": "genieTag", "operator": "IN" }, "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": true, "columnMappings": { "context.granularity": { "hidden": true }, "context.date_range.from": { "hidden": true }, "uid": { "to": "UIDs" }, "ets": { "mapFunc": "timestampToDateTime", "to": "Event generation time" }, "edata.eks.total_ts": { "to": "Total time (secs) per tag for the period" }, "eid": { "hidden": true }, "ver": { "hidden": true }, "edata.eks.contents": { "to": "Update col header\tContent IDs of all contents used per tag for the period" }, "context.pdata.id": { "hidden": true }, "edata.eks.avg_ts_session": { "to": "Average time spent per Genie session" }, "edata.eks.device_ids": { "to": "Device IDs per tag for the period" }, "syncts": { "mapFunc": "timestampToDateTime", "to": "Sync time" }, "context.pdata.ver": { "hidden": true }, "context.pdata.model": { "hidden": true }, "dimensions.tag": { "to": "Tag name" }, "edata.eks.total_sessions": { "to": "Total number of sessions per tag for the period" }, "mid": { "to": "Unique Genie Session ID" }, "context.date_range.to": { "hidden": true }, "dimensions.period": { "to": "period" } } } }, "ME_ITEM_USAGE_SUMMARY": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "item-usage-summ/" } }, "filterMapping": { "tags": { "name": "genieTag", "operator": "IN" }, "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": false, "columnMappings": {} } }, "ME_ASSET_SNAPSHOT_SUMMARY": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "asset-snapshot/" } }, "filterMapping": { "tags": { "name": "genieTag", "operator": "IN" }, "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": true, "columnMappings": { "context.granularity": { "hidden": true }, "edata.eks.used_activities_count": { "to": "No. of activities that are part of lessons" }, "edata.eks.used_templates_count": { "to": "No. of templates that are part of lessons" }, "context.date_range.from": { "hidden": true }, "uid": { "to": "uid" }, "edata.eks.total_questions_count": { "to": "Total number of questions" }, "ets": { "mapFunc": "timestampToDateTime", "to": "Generation Time" }, "edata.eks.used_audio_count": { "to": "No. of audio files that are being used" }, "edata.eks.used_images_count": { "to": "No. of images that are being used" }, "edata.eks.used_questions_count": { "to": "No. of questions that are being used" }, "edata.eks.total_activities_count": { "to": "Total number of activities" }, "eid": { "hidden": true }, "ver": { "hidden": true }, "context.pdata.id": { "hidden": true }, "syncts": { "mapFunc": "timestampToDateTime", "to": "Sync time" }, "edata.eks.total_templates_count": { "to": "Total no. of templates" }, "dimensions.partner_id": { "to": "Partner ID" }, "context.pdata.ver": { "hidden": true }, "edata.eks.total_images_count": { "to": "Total no. of images" }, "context.pdata.model": { "hidden": true }, "edata.eks.total_audio_count": { "to": "Total no. of audio files" }, "mid": { "hidden": true }, "context.date_range.to": { "hidden": true } } } }, "ME_CONTENT_SNAPSHOT_SUMMARY": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "content-snapshot/" } }, "filterMapping": { "tags": { "name": "genieTag", "operator": "IN" }, "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": true, "columnMappings": { "context.granularity": { "hidden": true }, "context.date_range.from": { "hidden": true }, "edata.eks.active_user_count": { "to": "No. of active authors on the portal" }, "uid": { "to": "uid" }, "ets": { "mapFunc": "timestampToDateTime", "to": "Event generation time" }, "dimensions.author_id": { "to": "Author ID" }, "edata.eks.total_user_count": { "to": "Total number of registered authors on the portal" }, "edata.eks.live_content_count": { "to": "Total number of content pieces live" }, "eid": { "hidden": true }, "ver": { "hidden": true }, "context.pdata.id": { "hidden": true }, "syncts": { "mapFunc": "timestampToDateTime", "to": "Sync time" }, "edata.eks.total_content_count": { "to": "Total number of content pieces" }, "edata.eks.review_content_count": { "to": "Total number of content pieces pending review" }, "dimensions.partner_id": { "to": "Partner ID" }, "context.pdata.ver": { "hidden": true }, "context.pdata.model": { "hidden": true }, "mid": { "hidden": true }, "context.date_range.to": { "hidden": true } } } }, "ME_DEVICE_USAGE_SUMMARY": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "dus/" } }, "filterMapping": { "tags": { "name": "genieTag", "operator": "IN" }, "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": true, "columnMappings": { "context.granularity": { "hidden": true }, "edata.eks.total_play_time": { "to": "Total Play time on device" }, "context.date_range.from": { "hidden": true }, "edata.eks.start_time": { "mapFunc": "timestampToDateTime", "to": "Time stamp of first Genie installation on device" }, "uid": { "to": "uid" }, "ets": { "mapFunc": "timestampToDateTime", "to": "Event generation time" }, "edata.eks.avg_num_launches": { "to": "Average num. of Genie launches per day" }, "edata.eks.num_contents": { "to": "No. of content pieces available on device" }, "edata.eks.play_start_time": { "mapFunc": "timestampToDateTime", "to": "Time stamp when the device first started game play" }, "edata.eks.end_time": { "mapFunc": "timestampToDateTime", "to": "Time stamp when the device was last used" }, "eid": { "hidden": true }, "edata.eks.num_days": { "to": "Number of days since Genie installed before the timestamp indicating the last use" }, "ver": { "hidden": true }, "context.pdata.id": { "hidden": true }, "edata.eks.mean_play_time": { "to": "Average play time on device" }, "edata.eks.mean_play_time_interval": { "to": "Average time interval between game play on the device" }, "edata.eks.last_played_on": { "mapFunc": "timestampToDateTime", "to": "Time stamp when the device was last used for game play" }, "edata.eks.avg_time": { "to": "Average time on Genie per day" }, "edata.eks.last_played_content": { "to": "Last played content on device" }, "syncts": { "mapFunc": "timestampToDateTime", "to": "Sync time" }, "context.pdata.ver": { "hidden": true }, "context.pdata.model": { "hidden": true }, "dimensions.did": { "to": "Device ID" }, "edata.eks.num_sessions": { "to": "Total number of sessions from the device" }, "mid": { "hidden": true }, "context.date_range.to": { "hidden": true } } } }, "ME_GENIE_SESSION_SUMMARY": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "cus/" } }, "filterMapping": { "tags": { "name": "genieTag", "operator": "IN" }, "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": true, "columnMappings": { "context.granularity": { "hidden": true }, "context.date_range.from": { "hidden": true }, "edata.eks.content": { "to": "Content IDs of content used in Genie Session" }, "edata.eks.timeSpent": { "to": "Time spent on Genie Session\t" }, "uid": { "to": "uid" }, "ets": { "mapFunc": "timestampToDateTime", "to": "Event generation time" }, "dimensions.group_user": { "to": "Is Group user?" }, "edata.eks.contentCount": { "to": "Number of content pieces used" }, "eid": { "hidden": true }, "ver": { "hidden": true }, "edata.eks.time_stamp": { "mapFunc": "timestampToDateTime", "to": "Session End time stamp" }, "context.pdata.id": { "hidden": true }, "tags": { "to": "Genie tags" }, "syncts": { "mapFunc": "timestampToDateTime", "to": "Sync time" }, "context.pdata.ver": { "hidden": true }, "context.pdata.model": { "hidden": true }, "dimensions.anonymous_user": { "to": "Logged in user?" }, "dimensions.did": { "to": "Device ID" }, "mid": { "to": "Unique Genie Session ID" }, "context.date_range.to": { "hidden": true } } } } } }, "eks-consumption-metrics": { "events": [ "ME_CONTENT_USAGE_METRICS", "ME_ITEM_USAGE_METRICS", "ME_GENIE_USAGE_METRICS", "ME_CONTENT_SNAPSHOT_METRICS", "ME_CONCEPT_SNAPSHOT_METRICS", "ME_ASSET_SNAPSHOT_METRICS" ], "eventConfig": { "ME_CONTENT_USAGE_METRICS": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "eks-consumption-metrics/me_content_usage_metrics/" } }, "filterMapping": { "tags": { "name": "dimensions.tag", "operator": "IN" }, "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": true, "columnMappings": { "ets": { "mapFunc": "timestampToDateTime", "to": "Event generation Time" }, "syncts": { "mapFunc": "timestampToDateTime", "to": "Event sync time" }, "eid": { "hidden": true }, "dimensions.period": { "to": "Time period of the summary. For ex: Day or Week or Month represented by a number" }, "dimensions.content_id": { "to": "Content ID" }, "dimensions.tag": { "to": "tag" }, "edata.eks.m_publish_date": { "to": "Date when the content is published" }, "edata.eks.m_total_ts": { "to": "Total time spent" }, "edata.eks.m_total_sessions": { "to": "Total number of sessions" }, "edata.eks.m_avg_ts_session": { "to": "Average timespent per session" }, "edata.eks.m_total_interactions": { "to": "Total interactions count" }, "edata.eks.m_avg_interactions_min": { "to": "Average interactions per minute" }, "edata.eks.m_total_devices": { "to": "Total number of devices" }, "edata.eks.m_avg_sess_device": { "to": "Average sessions per device" } } } }, "ME_ITEM_USAGE_METRICS": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "eks-consumption-metrics/me_item_usage_metrics/" } }, "filterMapping": { "tags": { "name": "dimensions.tag", "operator": "IN" }, "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": true, "columnMappings": { "ets": { "mapFunc": "timestampToDateTime", "to": "Event generation Time" }, "syncts": { "mapFunc": "timestampToDateTime", "to": "Event sync time" }, "eid": { "hidden": true }, "dimensions.period": { "to": "Time period of the summary. For ex: Day or Week or Month represented by a number" }, "dimensions.tag": { "to": "tag" }, "dimensions.content_id": { "to": "Content ID" }, "dimensions.item_id": { "to": "item id" }, "edata.eks.m_total_ts": { "to": "Total time spent" }, "edata.eks.m_total_count": { "to": "Total response count" }, "edata.eks.m_correct_res_count": { "to": "Correct response count" }, "edata.eks.m_inc_res_count": { "to": "Incorrect response count" }, "edata.eks.m_correct_res": { "hidden": true }, "edata.eks.m_incorrect_res": { "hidden": true }, "edata.eks.m_top5_incorrect_res": { "to": "Top 5 Incorrect response" }, "edata.eks.m_avg_ts": { "to": "Average time spent" }, "edata.eks.m_top5_misconception_res": { "to": "Top 5 Misconception response" } } } }, "ME_GENIE_USAGE_METRICS": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "eks-consumption-metrics/me_genie_usage_metrics/" } }, "filterMapping": { "tags": { "name": "dimensions.tag", "operator": "IN" }, "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": true, "columnMappings": { "ets": { "mapFunc": "timestampToDateTime", "to": "Event generation Time" }, "syncts": { "mapFunc": "timestampToDateTime", "to": "Event sync time" }, "eid": { "hidden": true }, "dimensions.period": { "to": "Time period of the summary. For ex: Day or Week or Month represented by a number" }, "dimensions.tag": { "to": "Device Tag" }, "edata.eks.m_total_sessions": { "to": "Total number of sessions" }, "edata.eks.m_total_ts": { "to": "Total time spent" }, "edata.eks.m_avg_ts_session": { "to": "Average sessions per device" }, "edata.eks.m_contents": { "hidden": true }, "edata.eks.m_total_devices": { "to": "Total number of devices" } } } }, "ME_CONTENT_SNAPSHOT_METRICS": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "eks-consumption-metrics/me_content_snapshot_metrics/" } }, "filterMapping": { "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } } }, "ME_CONCEPT_SNAPSHOT_METRICS": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "eks-consumption-metrics/me_concept_snapshot_metrics/" } }, "filterMapping": { "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } } }, "ME_ASSET_SNAPSHOT_METRICS": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "eks-consumption-metrics/me_asset_snapshot_metrics/" } }, "filterMapping": { "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } } } } }, "eks-creation-raw": { "events": [ "eks-creation-raw" ], "eventConfig": { "eks-creation-raw": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "portal/" } }, "filterMapping": { "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "pdata.id", "operator": "EQ" } } } } }, "eks-creation-summary": { "events": [ "ME_APP_SESSION_SUMMARY", "ME_CE_SESSION_SUMMARY", "ME_TEXTBOOK_SESSION_SUMMARY", "ME_APP_USAGE_SUMMARY", "ME_CE_USAGE_SUMMARY", "ME_TEXTBOOK_USAGE_SUMMARY", "ME_AUTHOR_USAGE_SUMMARY", "ME_PUBLISH_PIPELINE_SUMMARY" ], "eventConfig": { "ME_APP_SESSION_SUMMARY": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "app-ss/" } }, "filterMapping": { "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": true, "columnMappings": { "context.granularity": { "hidden": true }, "edata.eks.interact_events_per_min": { "to": "Average ineractions per minute" }, "edata.eks.events_summary": { "to": "edata.eks.events_summary" }, "dimensions.app_id": { "to": "Event Source" }, "context.date_range.from": { "hidden": true }, "edata.eks.start_time": { "mapFunc": "timestampToDateTime", "to": "Start Time" }, "uid": { "to": "User ID" }, "edata.eks.page_summary": { "to": "Pages visited Summary" }, "ets": { "hidden": true }, "edata.eks.page_views_count": { "to": "Total pageviews in Session" }, "edata.eks.end_time": { "hidden": true }, "eid": { "hidden": true }, "ver": { "hidden": true }, "context.pdata.id": { "hidden": true }, "edata.eks.ce_visits": { "to": "Number of Authoring tool visits" }, "dimensions.sid": { "to": "Session ID" }, "edata.eks.time_diff": { "to": "Session length " }, "edata.eks.interact_events_count": { "to": "Number of Interactions" }, "syncts": { "mapFunc": "timestampToDateTime", "to": "Sync time" }, "context.pdata.ver": { "hidden": true }, "context.pdata.model": { "hidden": true }, "edata.eks.time_spent": { "to": "Session length" }, "dimensions.anonymous_user": { "to": "User Logged In" }, "mid": { "to": "mid" }, "edata.eks.env_summary": { "to": "Usage summary" }, "edata.eks.first_visit": { "to": "First Time Visitor" }, "context.date_range.to": { "hidden": true } } } }, "ME_CE_SESSION_SUMMARY": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "ce-ss/" } }, "filterMapping": { "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": false, "columnMappings": {} } }, "ME_TEXTBOOK_SESSION_SUMMARY": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "textbook-ss/" } }, "filterMapping": { "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": false, "columnMappings": {} } }, "ME_APP_USAGE_SUMMARY": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "app-usage/" } }, "filterMapping": { "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": true, "columnMappings": { "edata.eks.avg_ts_session": { "to": "Average session duration per day" }, "context.granularity": { "to": "Granularity" }, "edata.eks.anon_total_sessions": { "to": "Time spent by non-registered users" }, "edata.eks.unique_users": { "to": "Unique users list" }, "dimensions.app_id": { "to": "Source" }, "edata.eks.unique_users_count": { "to": "Unique users count" }, "context.date_range.from": { "hidden": true }, "edata.eks.total_pageviews_count": { "to": "Total Page Views per day" }, "uid": { "to": "uid" }, "edata.eks.ce_total_sessions": { "to": "Number of sessions where creation happened" }, "edata.eks.anon_avg_ts_session": { "to": "Avg. session duration for non-registered users per day" }, "ets": { "mapFunc": "timestampToDateTime", "to": "Generation Time" }, "edata.eks.total_ts": { "to": "Total time spent by visitors on Portal" }, "edata.eks.ce_percent_sessions": { "to": "Percentage of visitors creating content" }, "dimensions.author_id": { "to": "Author ID" }, "eid": { "hidden": true }, "ver": { "hidden": true }, "context.pdata.id": { "hidden": true }, "edata.eks.new_user_count": { "to": "Number of new users" }, "syncts": { "to": "Event sync time", "mapFunc": "timestampToDateTime" }, "edata.eks.percent_new_users_count": { "to": "Percentage of new visitors per day" }, "context.pdata.ver": { "hidden": true }, "context.pdata.model": { "hidden": true }, "edata.eks.avg_pageviews": { "to": "Avg. pages per visit per day" }, "edata.eks.total_sessions": { "to": "Total number of sessions" }, "edata.eks.anon_total_ts": { "to": "Total time spent by non-registered users on Portal" }, "mid": { "hidden": true }, "dimensions.period": { "to": "dimensions.period" }, "context.date_range.to": { "hidden": true } } } }, "ME_CE_USAGE_SUMMARY": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "ce-usage/" } }, "filterMapping": { "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": false, "columnMappings": {} } }, "ME_TEXTBOOK_USAGE_SUMMARY": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "textbook-usage/" } }, "filterMapping": { "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": false, "columnMappings": {} } }, "ME_AUTHOR_USAGE_SUMMARY": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "author-usage-summary/" } }, "filterMapping": { "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": true, "columnMappings": { "uid": { "to": "Author ID" }, "mid": { "hidden": true }, "ets": { "mapFunc": "timestampToDateTime", "to": "Event generation time" }, "eid": { "hidden": true }, "ver": { "hidden": true }, "syncts": { "mapFunc": "timestampToDateTime", "to": "Sync time" }, "context.pdata.id": { "hidden": true }, "context.pdata.ver": { "hidden": true }, "context.pdata.model": { "hidden": true }, "edata.eks.avg_ts_session": { "to": "Total number of seesion per day" }, "edata.eks.total_ts": { "to": "Total time spent by author" }, "edata.eks.ce_total_ts": { "to": "Total time spent on content editor by author" }, "edata.eks.total_sessions": { "to": "No of sessions per Author" }, "context.granularity": { "hidden": true }, "edata.eks.ce_percent_ts": { "to": "Percentage of time spent browsing vs creating" }, "edata.eks.ce_percent_sessions": { "to": "Percentage of sessions in which users log into content editor" }, "edata.eks.ce_total_visits": { "to": "No of Content Editor visits per author" }, "context.date_range.from": { "hidden": true }, "context.date_range.to": { "hidden": true } } } }, "ME_PUBLISH_PIPELINE_SUMMARY": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "publish-pipeline-summ/" } }, "filterMapping": { "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": true, "columnMappings": { "context.granularity": { "hidden": true }, "context.date_range.from": { "hidden": true }, "uid": { "hidden": true }, "ets": { "mapFunc": "timestampToDateTime", "to": "Event generation Time" }, "eid": { "hidden": true }, "ver": { "hidden": true }, "context.pdata.id": { "hidden": true }, "edata.eks.publish_pipeline_summary": { "to": "edata.eks.publish_pipeline_summary" }, "syncts": { "to": "Event sync time", "mapFunc": "timestampToDateTime" }, "context.pdata.ver": { "hidden": true }, "context.pdata.model": { "hidden": true }, "mid": { "hidden": true }, "dimensions.period": { "to": "Date" }, "context.date_range.to": { "hidden": true } } } } } }, "eks-creation-metrics": { "events": [ "ME_APP_USAGE_METRICS", "ME_CE_USAGE_METRICS", "ME_TEXTBOOK_CREATION_METRICS", "ME_TEXTBOOK_SNAPSHOT_METRICS", "ME_AUTHOR_USAGE_METRICS" ], "eventConfig": { "ME_APP_USAGE_METRICS": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "eks-creation-metrics/me_app_usage_metrics/" } }, "filterMapping": { "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": true, "columnMappings": { "ets": { "mapFunc": "timestampToDateTime", "to": "Event generation Time" }, "syncts": { "mapFunc": "timestampToDateTime", "to": "Event sync time" }, "eid": { "hidden": true }, "dimensions.period": { "to": "Time period of the summary. For ex: Day or Week or Month represented by a number" }, "dimensions.author_id": { "to": "Author ID / All" }, "dimensions.app_id": { "to": "App (EkStep portal currently)" }, "edata.eks.anon_total_sessions": { "to": "Total anonymous sessions on portal" }, "edata.eks.anon_total_ts": { "to": "Tota time spent (Anonymous) on portal" }, "edata.eks.total_sessions": { "to": "Total number of portal sessions" }, "edata.eks.total_ts": { "to": "Total time spent on portal" }, "edata.eks.ce_total_sessions": { "to": "Total content editor sessions" }, "edata.eks.ce_percent_sessions": { "to": "% of total sessions that are content editor sessions" }, "edata.eks.total_pageviews_count": { "to": "Total pageviews on portal" }, "edata.eks.unique_users": { "hidden": true }, "edata.eks.unique_users_count": { "to": "Count of unique users on portal" }, "edata.eks.avg_pageviews": { "to": "Avg. number of pageviews per session for specified period" }, "edata.eks.avg_ts_session": { "to": "Avg. session length (time spent) per session for specified period" }, "edata.eks.anon_avg_ts_session": { "to": "Avg. Anonymous session length (time spent) per session for specified period" }, "edata.eks.new_user_count": { "to": "No. of new users on the app (portal) for the given time period" }, "edata.eks.percent_new_users_count": { "to": "% of new users for the given time period" } } } }, "ME_CE_USAGE_METRICS": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "eks-creation-metrics/me_ce_usage_metrics/" } }, "filterMapping": { "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": true, "columnMappings": { "ets": { "mapFunc": "timestampToDateTime", "to": "Event generation Time" }, "syncts": { "mapFunc": "timestampToDateTime", "to": "Event sync time" }, "eid": { "hidden": true }, "dimensions.period": { "to": "Time period of the summary. For ex: Day or Week or Month represented by a number" }, "dimensions.content_id": { "to": "Content ID" }, "edata.eks.unique_users_count": { "to": "Number of users who accessed the content piece via the editor" }, "edata.eks.total_sessions": { "to": "Total number of sessions that accessed the content piece via the editor" }, "edata.eks.total_ts": { "to": "Time spent on the content piece in the content editor" }, "edata.eks.avg_ts_session": { "to": "Average session time on the editor" }, "edata.eks.update_date": { "to": "Last updated timestamp of the content piece" } } } }, "ME_TEXTBOOK_CREATION_METRICS": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "eks-creation-metrics/me_textbook_creation_metrics/" } }, "filterMapping": { "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } } }, "ME_TEXTBOOK_SNAPSHOT_METRICS": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "eks-creation-metrics/me_textbook_snapshot_metrics/" } }, "filterMapping": { "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } } }, "ME_AUTHOR_USAGE_METRICS": { "searchType": "s3", "fetchConfig": { "params": { "bucket": "'$bucket'", "prefix": "eks-creation-metrics/me_author_usage_metrics/" } }, "filterMapping": { "channel": { "name": "channel", "operator": "EQ" }, "app_id": { "name": "dimensions.pdata.id", "operator": "EQ" } }, "csvConfig": { "auto_extract_column_names": true, "columnMappings": { "ets": { "mapFunc": "timestampToDateTime", "to": "Event generation Time" }, "syncts": { "mapFunc": "timestampToDateTime", "to": "Event sync time" }, "eid": { "hidden": true }, "dimensions.period": { "to": " Time period of the summary. For ex: Day or Week or Month represented by a number" }, "dimensions.author_id": { "to": "Author ID /All" }, "edata.eks.total_sessions": { "to": "Total number of portal sessions by author" }, "edata.eks.total_ts": { "to": "Total time spent on portal by author" }, "edata.eks.total_ce_ts": { "to": "Total time spent on content editor by author" }, "edata.eks.total_ce_visit": { "to": "Number of content editor visits" }, "edata.eks.percent_ce_sessions": { "to": "% of sessions that were spent on the editor" }, "edata.eks.avg_ts_session": { "to": "Average time spent by author on portal per session" }, "edata.eks.percent_ce_ts": { "to": "% time spent by author on content editor" } } } } } } } }'
		echo '{"search":{"type":"s3"},"model":"org.ekstep.analytics.model.DataExhaustJobModel","parallelization":8,"appName":"Data Exhaust","deviceMapping":false,"modelParams":{},"exhaustConfig":{"eks-consumption-raw":{"events":["eks-consumption-raw"],"eventConfig":{"eks-consumption-raw":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$datasetRawBucket'","prefix":"'$consumptionRawPrefix'"}},"filterMapping":{"tags":{"name":"genieTag","operator":"IN"},"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"pdata.id","operator":"EQ"}}}}},"eks-consumption-summary":{"events":["ME_SESSION_SUMMARY","ME_CONTENT_USAGE_SUMMARY","ME_GENIE_LAUNCH_SUMMARY","ME_ITEM_SUMMARY","ME_GENIE_USAGE_SUMMARY","ME_ITEM_USAGE_SUMMARY","ME_ASSET_SNAPSHOT_SUMMARY","ME_CONTENT_SNAPSHOT_SUMMARY","ME_DEVICE_USAGE_SUMMARY","ME_GENIE_SESSION_SUMMARY"],"eventConfig":{"ME_SESSION_SUMMARY":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"ss/"}},"filterMapping":{"tags":{"name":"genieTag","operator":"IN"},"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":true,"columnMappings":{"context.granularity":{"hidden":true},"edata.eks.timeSpent":{"to":"Time spent on the content"},"edata.eks.screenSummary":{"hidden":true},"edata.eks.currentLevel":{"to":"Current Domain Level"},"edata.eks.syncDate":{"mapFunc":"timestampToDateTime","to":"Sync Date(IST)"},"edata.eks.timeDiff":{"hidden":true},"context.date_range.from":{"hidden":true},"edata.eks.start_time":{"mapFunc":"timestampToDateTime","to":"Content Start Time(IST)"},"uid":{"to":"Genie User ID"},"ets":{"hidden":true},"dimensions.group_user":{"to":"Is Group User"},"edata.eks.activitySummary":{"to":"Activity Summary"},"edata.eks.end_time":{"hidden":true},"edata.eks.eventsSummary":{"hidden":true},"eid":{"hidden":true},"ver":{"hidden":true},"edata.eks.levels":{"hidden":true},"context.pdata.id":{"hidden":true},"edata.eks.itemResponses":{"to":"edata.eks.itemResponses"},"dimensions.gdata.id":{"to":"Content ID"},"edata.eks.noOfLevelTransitions":{"to":"Number of Level Transitions"},"edata.eks.noOfAttempts":{"to":"Number of Attempts"},"tags":{"to":"Genie Tags"},"edata.eks.interruptTime":{"to":"Total interrupt time"},"syncts":{"mapFunc":"timestampToDateTime","to":"Sync time stamp(IST)"},"edata.eks.mimeType":{"hidden":true},"edata.eks.telemetryVersion":{"to":"Telemetry Version"},"context.pdata.ver":{"hidden":true},"dimensions.gdata.ver":{"hidden":true},"edata.eks.interactEventsPerMin":{"to":"Number of interactions per minute"},"edata.eks.contentType":{"to":"Content Type"},"context.pdata.model":{"hidden":true},"dimensions.anonymous_user":{"to":"Logged in User"},"dimensions.did":{"to":"Device ID"},"dimensions.loc":{"to":"Lat / Long"},"mid":{"to":"Session ID"},"edata.eks.noOfInteractEvents":{"to":"Number of Interact events in the content session"},"context.date_range.to":{"hidden":true}}}},"ME_CONTENT_USAGE_SUMMARY":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"cus/"}},"filterMapping":{"tags":{"name":"genieTag","operator":"IN"},"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":false,"columnMappings":{}}},"ME_GENIE_LAUNCH_SUMMARY":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"gls/"}},"filterMapping":{"tags":{"name":"genieTag","operator":"IN"},"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":false,"columnMappings":{}}},"ME_ITEM_SUMMARY":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"is/"}},"filterMapping":{"tags":{"name":"genieTag","operator":"IN"},"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":false,"columnMappings":{}}},"ME_GENIE_USAGE_SUMMARY":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"genie-launch-summ/"}},"filterMapping":{"tags":{"name":"genieTag","operator":"IN"},"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":true,"columnMappings":{"context.granularity":{"hidden":true},"context.date_range.from":{"hidden":true},"uid":{"to":"UIDs"},"ets":{"mapFunc":"timestampToDateTime","to":"Event generation time(IST)"},"edata.eks.total_ts":{"to":"Total time (secs) per tag for the period"},"eid":{"hidden":true},"ver":{"hidden":true},"edata.eks.contents":{"to":"Update col header\tContent IDs of all contents used per tag for the period"},"context.pdata.id":{"hidden":true},"edata.eks.avg_ts_session":{"to":"Average time spent per Genie session"},"edata.eks.device_ids":{"to":"Device IDs per tag for the period"},"syncts":{"mapFunc":"timestampToDateTime","to":"Sync time(IST)"},"context.pdata.ver":{"hidden":true},"context.pdata.model":{"hidden":true},"dimensions.tag":{"to":"Tag name"},"edata.eks.total_sessions":{"to":"Total number of sessions per tag for the period"},"mid":{"to":"Unique Genie Session ID"},"context.date_range.to":{"hidden":true},"dimensions.period":{"to":"period"}}}},"ME_ITEM_USAGE_SUMMARY":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"item-usage-summ/"}},"filterMapping":{"tags":{"name":"genieTag","operator":"IN"},"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":false,"columnMappings":{}}},"ME_ASSET_SNAPSHOT_SUMMARY":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"asset-snapshot/"}},"filterMapping":{"tags":{"name":"genieTag","operator":"IN"},"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":true,"columnMappings":{"context.granularity":{"hidden":true},"edata.eks.used_activities_count":{"to":"No. of activities that are part of lessons"},"edata.eks.used_templates_count":{"to":"No. of templates that are part of lessons"},"context.date_range.from":{"hidden":true},"uid":{"to":"uid"},"edata.eks.total_questions_count":{"to":"Total number of questions"},"ets":{"mapFunc":"timestampToDateTime","to":"Generation Time(IST)"},"edata.eks.used_audio_count":{"to":"No. of audio files that are being used"},"edata.eks.used_images_count":{"to":"No. of images that are being used"},"edata.eks.used_questions_count":{"to":"No. of questions that are being used"},"edata.eks.total_activities_count":{"to":"Total number of activities"},"eid":{"hidden":true},"ver":{"hidden":true},"context.pdata.id":{"hidden":true},"syncts":{"mapFunc":"timestampToDateTime","to":"Sync time(IST)"},"edata.eks.total_templates_count":{"to":"Total no. of templates"},"dimensions.partner_id":{"to":"Partner ID"},"context.pdata.ver":{"hidden":true},"edata.eks.total_images_count":{"to":"Total no. of images"},"context.pdata.model":{"hidden":true},"edata.eks.total_audio_count":{"to":"Total no. of audio files"},"mid":{"hidden":true},"context.date_range.to":{"hidden":true}}}},"ME_CONTENT_SNAPSHOT_SUMMARY":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"content-snapshot/"}},"filterMapping":{"tags":{"name":"genieTag","operator":"IN"},"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":true,"columnMappings":{"context.granularity":{"hidden":true},"context.date_range.from":{"hidden":true},"edata.eks.active_user_count":{"to":"No. of active authors on the portal"},"uid":{"to":"uid"},"ets":{"mapFunc":"timestampToDateTime","to":"Event generation time(IST)"},"dimensions.author_id":{"to":"Author ID"},"edata.eks.total_user_count":{"to":"Total number of registered authors on the portal"},"edata.eks.live_content_count":{"to":"Total number of content pieces live"},"eid":{"hidden":true},"ver":{"hidden":true},"context.pdata.id":{"hidden":true},"syncts":{"mapFunc":"timestampToDateTime","to":"Sync time(IST)"},"edata.eks.total_content_count":{"to":"Total number of content pieces"},"edata.eks.review_content_count":{"to":"Total number of content pieces pending review"},"dimensions.partner_id":{"to":"Partner ID"},"context.pdata.ver":{"hidden":true},"context.pdata.model":{"hidden":true},"mid":{"hidden":true},"context.date_range.to":{"hidden":true}}}},"ME_DEVICE_USAGE_SUMMARY":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"dus/"}},"filterMapping":{"tags":{"name":"genieTag","operator":"IN"},"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":true,"columnMappings":{"context.granularity":{"hidden":true},"edata.eks.total_play_time":{"to":"Total Play time on device"},"context.date_range.from":{"hidden":true},"edata.eks.start_time":{"mapFunc":"timestampToDateTime","to":"Time stamp of first Genie installation on device(IST)"},"uid":{"to":"uid"},"ets":{"mapFunc":"timestampToDateTime","to":"Event generation time(IST)"},"edata.eks.avg_num_launches":{"to":"Average num. of Genie launches per day"},"edata.eks.num_contents":{"to":"No. of content pieces available on device"},"edata.eks.play_start_time":{"mapFunc":"timestampToDateTime","to":"Time stamp when the device first started game play(IST)"},"edata.eks.end_time":{"mapFunc":"timestampToDateTime","to":"Time stamp when the device was last used(IST)"},"eid":{"hidden":true},"edata.eks.num_days":{"to":"Number of days since Genie installed before the timestamp indicating the last use"},"ver":{"hidden":true},"context.pdata.id":{"hidden":true},"edata.eks.mean_play_time":{"to":"Average play time on device"},"edata.eks.mean_play_time_interval":{"to":"Average time interval between game play on the device"},"edata.eks.last_played_on":{"mapFunc":"timestampToDateTime","to":"Time stamp when the device was last used for game play(IST)"},"edata.eks.avg_time":{"to":"Average time on Genie per day"},"edata.eks.last_played_content":{"to":"Last played content on device"},"syncts":{"mapFunc":"timestampToDateTime","to":"Sync time(IST)"},"context.pdata.ver":{"hidden":true},"context.pdata.model":{"hidden":true},"dimensions.did":{"to":"Device ID"},"edata.eks.num_sessions":{"to":"Total number of sessions from the device"},"mid":{"hidden":true},"context.date_range.to":{"hidden":true}}}},"ME_GENIE_SESSION_SUMMARY":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"cus/"}},"filterMapping":{"tags":{"name":"genieTag","operator":"IN"},"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":true,"columnMappings":{"context.granularity":{"hidden":true},"context.date_range.from":{"hidden":true},"edata.eks.content":{"to":"Content IDs of content used in Genie Session"},"edata.eks.timeSpent":{"to":"Time spent on Genie Session\t"},"uid":{"to":"uid"},"ets":{"mapFunc":"timestampToDateTime","to":"Event generation time(IST)"},"dimensions.group_user":{"to":"Is Group user?"},"edata.eks.contentCount":{"to":"Number of content pieces used"},"eid":{"hidden":true},"ver":{"hidden":true},"edata.eks.time_stamp":{"mapFunc":"timestampToDateTime","to":"Session End time stamp(IST)"},"context.pdata.id":{"hidden":true},"tags":{"to":"Genie tags"},"syncts":{"mapFunc":"timestampToDateTime","to":"Sync time(IST)"},"context.pdata.ver":{"hidden":true},"context.pdata.model":{"hidden":true},"dimensions.anonymous_user":{"to":"Logged in user?"},"dimensions.did":{"to":"Device ID"},"mid":{"to":"Unique Genie Session ID"},"context.date_range.to":{"hidden":true}}}}}},"eks-consumption-metrics":{"events":["ME_CONTENT_USAGE_METRICS","ME_ITEM_USAGE_METRICS","ME_GENIE_USAGE_METRICS","ME_CONTENT_SNAPSHOT_METRICS","ME_CONCEPT_SNAPSHOT_METRICS","ME_ASSET_SNAPSHOT_METRICS"],"eventConfig":{"ME_CONTENT_USAGE_METRICS":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"eks-consumption-metrics/me_content_usage_metrics/"}},"filterMapping":{"tags":{"name":"dimensions.tag","operator":"IN"},"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":true,"columnMappings":{"ets":{"mapFunc":"timestampToDateTime","to":"Event generation Time(IST)"},"syncts":{"mapFunc":"timestampToDateTime","to":"Event sync time(IST)"},"eid":{"hidden":true},"dimensions.period":{"to":"Time period of the summary. For ex: Day or Week or Month represented by a number"},"dimensions.content_id":{"to":"Content ID"},"dimensions.tag":{"to":"tag"},"edata.eks.m_publish_date":{"to":"Date when the content is published"},"edata.eks.m_total_ts":{"to":"Total time spent"},"edata.eks.m_total_sessions":{"to":"Total number of sessions"},"edata.eks.m_avg_ts_session":{"to":"Average timespent per session"},"edata.eks.m_total_interactions":{"to":"Total interactions count"},"edata.eks.m_avg_interactions_min":{"to":"Average interactions per minute"},"edata.eks.m_total_devices":{"to":"Total number of devices"},"edata.eks.m_avg_sess_device":{"to":"Average sessions per device"}}}},"ME_ITEM_USAGE_METRICS":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"eks-consumption-metrics/me_item_usage_metrics/"}},"filterMapping":{"tags":{"name":"dimensions.tag","operator":"IN"},"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":true,"columnMappings":{"ets":{"mapFunc":"timestampToDateTime","to":"Event generation Time(IST)"},"syncts":{"mapFunc":"timestampToDateTime","to":"Event sync time(IST)"},"eid":{"hidden":true},"dimensions.period":{"to":"Time period of the summary. For ex: Day or Week or Month represented by a number"},"dimensions.tag":{"to":"tag"},"dimensions.content_id":{"to":"Content ID"},"dimensions.item_id":{"to":"item id"},"edata.eks.m_total_ts":{"to":"Total time spent"},"edata.eks.m_total_count":{"to":"Total response count"},"edata.eks.m_correct_res_count":{"to":"Correct response count"},"edata.eks.m_inc_res_count":{"to":"Incorrect response count"},"edata.eks.m_correct_res":{"hidden":true},"edata.eks.m_incorrect_res":{"hidden":true},"edata.eks.m_top5_incorrect_res":{"to":"Top 5 Incorrect response"},"edata.eks.m_avg_ts":{"to":"Average time spent"},"edata.eks.m_top5_misconception_res":{"to":"Top 5 Misconception response"}}}},"ME_GENIE_USAGE_METRICS":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"eks-consumption-metrics/me_genie_usage_metrics/"}},"filterMapping":{"tags":{"name":"dimensions.tag","operator":"IN"},"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":true,"columnMappings":{"ets":{"mapFunc":"timestampToDateTime","to":"Event generation Time(IST)"},"syncts":{"mapFunc":"timestampToDateTime","to":"Event sync time(IST)"},"eid":{"hidden":true},"dimensions.period":{"to":"Time period of the summary. For ex: Day or Week or Month represented by a number"},"dimensions.tag":{"to":"Device Tag"},"edata.eks.m_total_sessions":{"to":"Total number of sessions"},"edata.eks.m_total_ts":{"to":"Total time spent"},"edata.eks.m_avg_ts_session":{"to":"Average sessions per device"},"edata.eks.m_contents":{"hidden":true},"edata.eks.m_total_devices":{"to":"Total number of devices"}}}},"ME_CONTENT_SNAPSHOT_METRICS":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"eks-consumption-metrics/me_content_snapshot_metrics/"}},"filterMapping":{"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}}},"ME_CONCEPT_SNAPSHOT_METRICS":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"eks-consumption-metrics/me_concept_snapshot_metrics/"}},"filterMapping":{"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}}},"ME_ASSET_SNAPSHOT_METRICS":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"eks-consumption-metrics/me_asset_snapshot_metrics/"}},"filterMapping":{"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}}}}},"eks-creation-raw":{"events":["eks-creation-raw"],"eventConfig":{"eks-creation-raw":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"portal/"}},"filterMapping":{"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"pdata.id","operator":"EQ"}}}}},"eks-creation-summary":{"events":["ME_APP_SESSION_SUMMARY","ME_CE_SESSION_SUMMARY","ME_TEXTBOOK_SESSION_SUMMARY","ME_APP_USAGE_SUMMARY","ME_CE_USAGE_SUMMARY","ME_TEXTBOOK_USAGE_SUMMARY","ME_AUTHOR_USAGE_SUMMARY","ME_PUBLISH_PIPELINE_SUMMARY"],"eventConfig":{"ME_APP_SESSION_SUMMARY":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"app-ss/"}},"filterMapping":{"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":true,"columnMappings":{"context.granularity":{"hidden":true},"edata.eks.interact_events_per_min":{"to":"Average ineractions per minute"},"edata.eks.events_summary":{"to":"edata.eks.events_summary"},"dimensions.app_id":{"to":"Event Source"},"context.date_range.from":{"hidden":true},"edata.eks.start_time":{"mapFunc":"timestampToDateTime","to":"Start Time(IST)"},"uid":{"to":"User ID"},"edata.eks.page_summary":{"to":"Pages visited Summary"},"ets":{"hidden":true},"edata.eks.page_views_count":{"to":"Total pageviews in Session"},"edata.eks.end_time":{"hidden":true},"eid":{"hidden":true},"ver":{"hidden":true},"context.pdata.id":{"hidden":true},"edata.eks.ce_visits":{"to":"Number of Authoring tool visits"},"dimensions.sid":{"to":"Session ID"},"edata.eks.time_diff":{"to":"Session length "},"edata.eks.interact_events_count":{"to":"Number of Interactions"},"syncts":{"mapFunc":"timestampToDateTime","to":"Sync time(IST)"},"context.pdata.ver":{"hidden":true},"context.pdata.model":{"hidden":true},"edata.eks.time_spent":{"to":"Session length"},"dimensions.anonymous_user":{"to":"User Logged In"},"mid":{"to":"mid"},"edata.eks.env_summary":{"to":"Usage summary"},"edata.eks.first_visit":{"to":"First Time Visitor"},"context.date_range.to":{"hidden":true}}}},"ME_CE_SESSION_SUMMARY":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"ce-ss/"}},"filterMapping":{"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":false,"columnMappings":{}}},"ME_TEXTBOOK_SESSION_SUMMARY":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"textbook-ss/"}},"filterMapping":{"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":false,"columnMappings":{}}},"ME_APP_USAGE_SUMMARY":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"app-usage/"}},"filterMapping":{"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":true,"columnMappings":{"edata.eks.avg_ts_session":{"to":"Average session duration per day"},"context.granularity":{"to":"Granularity"},"edata.eks.anon_total_sessions":{"to":"Time spent by non-registered users"},"edata.eks.unique_users":{"to":"Unique users list"},"dimensions.app_id":{"to":"Source"},"edata.eks.unique_users_count":{"to":"Unique users count"},"context.date_range.from":{"hidden":true},"edata.eks.total_pageviews_count":{"to":"Total Page Views per day"},"uid":{"to":"uid"},"edata.eks.ce_total_sessions":{"to":"Number of sessions where creation happened"},"edata.eks.anon_avg_ts_session":{"to":"Avg. session duration for non-registered users per day"},"ets":{"mapFunc":"timestampToDateTime","to":"Generation Time(IST)"},"edata.eks.total_ts":{"to":"Total time spent by visitors on Portal"},"edata.eks.ce_percent_sessions":{"to":"Percentage of visitors creating content"},"dimensions.author_id":{"to":"Author ID"},"eid":{"hidden":true},"ver":{"hidden":true},"context.pdata.id":{"hidden":true},"edata.eks.new_user_count":{"to":"Number of new users"},"syncts":{"to":"Event sync time(IST)","mapFunc":"timestampToDateTime"},"edata.eks.percent_new_users_count":{"to":"Percentage of new visitors per day"},"context.pdata.ver":{"hidden":true},"context.pdata.model":{"hidden":true},"edata.eks.avg_pageviews":{"to":"Avg. pages per visit per day"},"edata.eks.total_sessions":{"to":"Total number of sessions"},"edata.eks.anon_total_ts":{"to":"Total time spent by non-registered users on Portal"},"mid":{"hidden":true},"dimensions.period":{"to":"dimensions.period"},"context.date_range.to":{"hidden":true}}}},"ME_CE_USAGE_SUMMARY":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"ce-usage/"}},"filterMapping":{"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":false,"columnMappings":{}}},"ME_TEXTBOOK_USAGE_SUMMARY":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"textbook-usage/"}},"filterMapping":{"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":false,"columnMappings":{}}},"ME_AUTHOR_USAGE_SUMMARY":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"author-usage-summary/"}},"filterMapping":{"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":true,"columnMappings":{"uid":{"to":"Author ID"},"mid":{"hidden":true},"ets":{"mapFunc":"timestampToDateTime","to":"Event generation time(IST)"},"eid":{"hidden":true},"ver":{"hidden":true},"syncts":{"mapFunc":"timestampToDateTime","to":"Sync time(IST)"},"context.pdata.id":{"hidden":true},"context.pdata.ver":{"hidden":true},"context.pdata.model":{"hidden":true},"edata.eks.avg_ts_session":{"to":"Total number of seesion per day"},"edata.eks.total_ts":{"to":"Total time spent by author"},"edata.eks.ce_total_ts":{"to":"Total time spent on content editor by author"},"edata.eks.total_sessions":{"to":"No of sessions per Author"},"context.granularity":{"hidden":true},"edata.eks.ce_percent_ts":{"to":"Percentage of time spent browsing vs creating"},"edata.eks.ce_percent_sessions":{"to":"Percentage of sessions in which users log into content editor"},"edata.eks.ce_total_visits":{"to":"No of Content Editor visits per author"},"context.date_range.from":{"hidden":true},"context.date_range.to":{"hidden":true}}}},"ME_PUBLISH_PIPELINE_SUMMARY":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"publish-pipeline-summ/"}},"filterMapping":{"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":true,"columnMappings":{"context.granularity":{"hidden":true},"context.date_range.from":{"hidden":true},"uid":{"hidden":true},"ets":{"mapFunc":"timestampToDateTime","to":"Event generation Time(IST)"},"eid":{"hidden":true},"ver":{"hidden":true},"context.pdata.id":{"hidden":true},"edata.eks.publish_pipeline_summary":{"to":"edata.eks.publish_pipeline_summary"},"syncts":{"to":"Event sync time(IST)","mapFunc":"timestampToDateTime"},"context.pdata.ver":{"hidden":true},"context.pdata.model":{"hidden":true},"mid":{"hidden":true},"dimensions.period":{"to":"Date"},"context.date_range.to":{"hidden":true}}}}}},"eks-creation-metrics":{"events":["ME_APP_USAGE_METRICS","ME_CE_USAGE_METRICS","ME_TEXTBOOK_CREATION_METRICS","ME_TEXTBOOK_SNAPSHOT_METRICS","ME_AUTHOR_USAGE_METRICS"],"eventConfig":{"ME_APP_USAGE_METRICS":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"eks-creation-metrics/me_app_usage_metrics/"}},"filterMapping":{"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":true,"columnMappings":{"ets":{"mapFunc":"timestampToDateTime","to":"Event generation Time(IST)"},"syncts":{"mapFunc":"timestampToDateTime","to":"Event sync time(IST)"},"eid":{"hidden":true},"dimensions.period":{"to":"Time period of the summary. For ex: Day or Week or Month represented by a number"},"dimensions.author_id":{"to":"Author ID / All"},"dimensions.app_id":{"to":"App (EkStep portal currently)"},"edata.eks.anon_total_sessions":{"to":"Total anonymous sessions on portal"},"edata.eks.anon_total_ts":{"to":"Tota time spent (Anonymous) on portal"},"edata.eks.total_sessions":{"to":"Total number of portal sessions"},"edata.eks.total_ts":{"to":"Total time spent on portal"},"edata.eks.ce_total_sessions":{"to":"Total content editor sessions"},"edata.eks.ce_percent_sessions":{"to":"% of total sessions that are content editor sessions"},"edata.eks.total_pageviews_count":{"to":"Total pageviews on portal"},"edata.eks.unique_users":{"hidden":true},"edata.eks.unique_users_count":{"to":"Count of unique users on portal"},"edata.eks.avg_pageviews":{"to":"Avg. number of pageviews per session for specified period"},"edata.eks.avg_ts_session":{"to":"Avg. session length (time spent) per session for specified period"},"edata.eks.anon_avg_ts_session":{"to":"Avg. Anonymous session length (time spent) per session for specified period"},"edata.eks.new_user_count":{"to":"No. of new users on the app (portal) for the given time period"},"edata.eks.percent_new_users_count":{"to":"% of new users for the given time period"}}}},"ME_CE_USAGE_METRICS":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"eks-creation-metrics/me_ce_usage_metrics/"}},"filterMapping":{"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":true,"columnMappings":{"ets":{"mapFunc":"timestampToDateTime","to":"Event generation Time(IST)"},"syncts":{"mapFunc":"timestampToDateTime","to":"Event sync time(IST)"},"eid":{"hidden":true},"dimensions.period":{"to":"Time period of the summary. For ex: Day or Week or Month represented by a number"},"dimensions.content_id":{"to":"Content ID"},"edata.eks.unique_users_count":{"to":"Number of users who accessed the content piece via the editor"},"edata.eks.total_sessions":{"to":"Total number of sessions that accessed the content piece via the editor"},"edata.eks.total_ts":{"to":"Time spent on the content piece in the content editor"},"edata.eks.avg_ts_session":{"to":"Average session time on the editor"},"edata.eks.update_date":{"to":"Last updated timestamp of the content piece"}}}},"ME_TEXTBOOK_CREATION_METRICS":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"eks-creation-metrics/me_textbook_creation_metrics/"}},"filterMapping":{"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}}},"ME_TEXTBOOK_SNAPSHOT_METRICS":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"eks-creation-metrics/me_textbook_snapshot_metrics/"}},"filterMapping":{"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}}},"ME_AUTHOR_USAGE_METRICS":{"searchType":"s3","fetchConfig":{"params":{"bucket":"'$bucket'","prefix":"eks-creation-metrics/me_author_usage_metrics/"}},"filterMapping":{"channel":{"name":"channel","operator":"EQ"},"app_id":{"name":"dimensions.pdata.id","operator":"EQ"}},"csvConfig":{"auto_extract_column_names":true,"columnMappings":{"ets":{"mapFunc":"timestampToDateTime","to":"Event generation Time(IST)"},"syncts":{"mapFunc":"timestampToDateTime","to":"Event sync time(IST)"},"eid":{"hidden":true},"dimensions.period":{"to":" Time period of the summary. For ex: Day or Week or Month represented by a number"},"dimensions.author_id":{"to":"Author ID /All"},"edata.eks.total_sessions":{"to":"Total number of portal sessions by author"},"edata.eks.total_ts":{"to":"Total time spent on portal by author"},"edata.eks.total_ce_ts":{"to":"Total time spent on content editor by author"},"edata.eks.total_ce_visit":{"to":"Number of content editor visits"},"edata.eks.percent_ce_sessions":{"to":"% of sessions that were spent on the editor"},"edata.eks.avg_ts_session":{"to":"Average time spent by author on portal per session"},"edata.eks.percent_ce_ts":{"to":"% time spent by author on content editor"}}}}}}}}'
		;;
		"content-recos")
        echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/dus/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.EndOfContentRecommendationModel","modelParams":{"method":"cosine", "norm":"none", "weight":0.1, "filterBlacklistedContents":false, "num_bins_downloads":10, "num_bins_rating":10, "num_bins_interactions":10, "sorting_order":["rel.num_downloads", "rel.avg_rating", "eng.total_interactions", "simi.score"]},"output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"End Of Content Recommendation Model","deviceMapping":false}'
        ;;
        "content-lang-rel")
        echo '{"appName":"Content Language Relation Model", "modelParams":{}}'
        ;;
        "content-own-rel")
        echo '{"appName":"Author Relations Model", "modelParams":{}}'
        ;;
        "content-asset-rel")
        echo '{"appName":"Content Asset Relation Model", "modelParams":{}}'
        ;;
        "concept-lan-rel")
		echo '{"appName":"Concept Language Relation Model", "modelParams":{}}'
        ;;
        "vidyavaani-jobs")
        echo '{"appName":"VidyaVaani Jobs", "modelParams":{}}'
        ;;
        "consumption-metrics")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"raw/","endDate":"'$endDate'","delta":0}]},"model":"org.ekstep.analytics.updater.ConsumptionMetricsUpdater","modelParams":{"periodType":"ALL","periodUpTo":10},"output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"Consumption Metrics Updater","deviceMapping":false}'
		;;
		"creation-metrics")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"business_metrics/","endDate":"'$currentDate'","delta":0}]},"model":"org.ekstep.analytics.updater.CreationMetricsUpdater","modelParams":{},"output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"Creation Metrics Updater","deviceMapping":false}'
		;;
		"eocfs")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"raw/","endDate":"'$endDate'","delta":0}]},"filters":[{"name":"genieTag","operator":"NIN","value":["6c3791818e80b9d05fb975da1e972431d9f8c2a6"]},{"name":"ver","operator":"NE","value":"3.0"}],"model":"org.ekstep.analytics.model.EOCRecommendationFunnelModel","modelParams":{"apiVersion":"v2"},"output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/eocfs/'$endDate'"}},{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":8,"appName":"EOC Recommendation Funnel","deviceMapping":true}'
		;;
		"re-enrichment-model")
		echo '{"appName":"Creation Recommendation Enrichment Model", "modelParams":{}}'
        ;;
        "creation-reco")
		echo '{"appName":"Creation Recommendation Model", "modelParams":{"author_reco_limit": 5, "lang_return_props" : ["name","code","isoCode"]}}'
        ;;
        "content-snapshot")
        echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"cus/","endDate":"'$endDate'","delta":0}]}, "appName":"Content Snapshot Summarizer", "modelParams": {"active_user_days_limit": 30}, "output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/content-snapshot/'$currentDate'"}},{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}]}'
        ;;
        "concept-snapshot")
        echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"cus/","endDate":"'$endDate'","delta":0}]}, "appName":"Concept Snapshot Summarizer", "modelParams": {}, "output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/concept-snapshot/'$currentDate'"}},{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}]}'
        ;;
        "asset-snapshot")
        echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"cus/","endDate":"'$endDate'","delta":0}]}, "appName":"Asset Snapshot Summarizer", "modelParams": {}, "output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/asset-snapshot/'$currentDate'"}},{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}]}'
        ;;
        "content-snapshot-updater")
        echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/content-snapshot/","endDate":"'$currentDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.updater.UpdateContentSnapshotDB","output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"Content Snapshot Updater","deviceMapping":false}'
        ;;
        "concept-snapshot-updater")
        echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/concept-snapshot/","endDate":"'$currentDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.updater.UpdateConceptSnapshotDB","output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"Concept Snapshot Updater","deviceMapping":false}'
        ;;
        "asset-snapshot-updater")
        echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/asset-snapshot/","endDate":"'$currentDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.updater.UpdateAssetSnapshotDB","output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"Asset Snapshot Updater","deviceMapping":false}'
        ;;
        "content-creation-metrics")
        echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"portal/","endDate":"'$endDate'","delta":0}]},"model":"org.ekstep.analytics.updater.UpdateContentCreationMetricsDB","output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"Content Creation Metrics Updater","deviceMapping":false}'
        ;;
        "textbook-snapshot-updater")
        echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"cus/","endDate":"'$endDate'","delta":0}]}, "appName":"Textbook Snapshot Summarizer", "modelParams":{"periodType":"ALL","periodUpTo":10}, "output":[{"to":"console","params":{"printEvent": false}}]}'
        ;;
		"ce-ss")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"portal/","endDate":"'$endDate'","delta":0}]}, "appName":"Content Editor Session Summarizer", "modelParams":{"idleTime":600}, "output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/ce-ss/'$endDate'"}},{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}]}'
		;;
		"textbook-ss")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"portal/","endDate":"'$endDate'","delta":0}]}, "filters":[{"name":"edata","operator":"ISNOTNULL"}], "appName":"Textbook Session Summarizer", "modelParams":{"idleTime":600}, "output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/textbook-ss/'$endDate'"}},{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}]}'
		;;
		"textbook-usage")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/textbook-ss/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.TextbookUsageSummaryModel","output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/textbook-usage/'$endDate'"}},{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":8,"appName":"Textbook Usage Summary Model","deviceMapping":true}'
		;;
		"textbook-usage-updater")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/textbook-usage/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.updater.UpdateTextbookUsageDB","output":[{"to":"console","params":{"printEvent": false}}],"parallelization":8,"appName":"Textbook Usage Updater","deviceMapping":true}'
		;;
		"obj-cache-updater")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"portal/","endDate":"'$endDate'","delta":0}]}, "appName":"App Object Cache Updater", "modelParams":{}, "output":[{"to":"console","params":{"printEvent": false}}]}'
		;;
		"publish-pipeline-summ")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"portal/","endDate":"'$endDate'","delta":0}]}, "appName":"Publish Pipeline Summary", "modelParams":{}, "output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/publish-pipeline-summ/'$endDate'"}},{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}]}'
		;;
		"publish-pipeline-updater")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/publish-pipeline-summ/","endDate":"'$endDate'","delta":0,"folder":"true"}]}, "appName":"Publish Pipeline Updater", "modelParams":{}, "output":[{"to":"console","params":{"printEvent": false}}]}'
		;;
		"app-usage-updater")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/app-usage/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.updater.UpdatePortalUsageDB","output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"Portal Usage Updater","deviceMapping":false}'
		;;
		"ce-usage")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/ce-ss/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.ContentEditorUsageSummaryModel","output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/ce-usage/'$endDate'"}},{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":8,"appName":"Content Editor Usage Summary Model","deviceMapping":true}'
		;;
		"ce-usage-updater")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/ce-usage/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.updater.UpdateContentEditorUsageDB","output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"Content Editor Usage Updater","deviceMapping":false}'
		;;
		"author-usage-summary")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/app-ss/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.AuthorUsageSummarizer","output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/author-usage-summary/'$endDate'"}},{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":8,"appName":"Author Usage Summary Model","deviceMapping":true}'
		;;
		"author-usage-updater")
        echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/author-usage-summary/","endDate":"'$endDate'","delta":0,"folder":"true"}]}, "appName":"Author Usage Updater", "modelParams":{}, "output":[{"to":"console","params":{"printEvent": false}}]}'
        ;;
		"app-raw-telemetry-jobs")
        echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"portal/","endDate":"'$endDate'","delta":0}]},"model":"org.ekstep.analytics.job.consolidated.AppRawTelemetryJobs","output":[{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":8,"appName":"App Raw Telemetry Job","deviceMapping":false}'
        ;;
        "app-raw-telemetry-updaters")
        echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"portal/","endDate":"'$endDate'","delta":0}]},"model":"org.ekstep.analytics.job.consolidated.AppRawTelemetryUpdaters","output":[{"to":"console","params":{"printEvent": false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":8,"appName":"App Raw Telemetry Updater","deviceMapping":false}'
        ;;
        "me-metrics")
		if [ -z "$2" ]; then metricsDate=$currentDate; else metricsDate=$endDate; fi
        echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/dus/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.job.consolidated.MetricsEventCreationJob","modelParams":{"start_date":"'$metricsDate'", "end_date":"'$metricsDate'"},"output":[{"to":"console","params":{"printEvent":false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":8,"appName":"MetricsEventCreationJob","deviceMapping":false}'
        ;;
        "plugin-snapshot-updater")
        echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/cus/","endDate":"'$endDate'","delta":0,"folder":"true"}]}, "appName":"Plugin Snapshot Metrics Updater", "modelParams": {}, "output":[{"to":"console","params":{"printEvent": false}}]}'
        ;;
        "monitor-job-summ")        
        #echo '{"search":{"type":"local","queries":[{"file":"/mnt/data/analytics/scripts/logs/joblog.log"}]},"model":"org.ekstep.analytics.model.MonitorSummaryModel","modelParams":{"model":[{"model":"ItemSummaryModel","category":"consumption","input_dependency":"LearnerSessionSummaryModel"},{"model":"GenieUsageSummaryModel","category":"consumption","input_dependency":"GenieLaunchSummaryModel"},{"model":"GenieStageSummaryModel","category":"consumption","input_dependency":"GenieLaunchSummaryModel"},{"model":"ItemUsageSummaryModel","category":"consumption","input_dependency":"ItemSummaryModel"},{"model":"DeviceContentUsageSummaryModel","category":"consumption","input_dependency":"LearnerSessionSummaryModel"},{"model":"DeviceUsageSummaryModel","category":"consumption","input_dependency":"GenieLaunchSummaryModel"},{"model":"UpdateGenieUsageDB","category":"consumption","input_dependency":"GenieUsageSummaryModel"},{"model":"UpdateItemSummaryDB","category":"consumption","input_dependency":"ItemUsageSummaryModel"},{"model":"UpdateContentUsageDB","category":"consumption","input_dependency":"ContentUsageSummaryModel"},{"model":"UpdateContentPopularityDB","category":"consumption","input_dependency":"ContentPopularitySummaryModel"},{"model":"ContentUsageSummaryModel","category":"consumption","input_dependency":"LearnerSessionSummaryModel"},{"model":"UpdateLearnerProfileDB","category":"consumption","input_dependency":"None"},{"model":"UpdateDeviceSpecificationDB","category":"consumption","input_dependency":"None"},{"model":"LearnerSessionSummaryModel","category":"consumption","input_dependency":"None"},{"model":"GenieSessionSummaryModel","category":"consumption","input_dependency":"None"},{"model":"GenieLaunchSummaryModel","category":"consumption","input_dependency":"None"},{"model":"ContentPopularitySummaryModel","category":"consumption","input_dependency":"None"},{"model":"EOCRecommendationFunnelModel","category":"consumption","input_dependency":"None"},{"model":"StageSummaryModel","category":"consumption","input_dependency":"None"},{"model":"GenieFunnelAggregatorModel","category":"consumption","input_dependency":"None"},{"model":"ContentSideloadingSummaryModel","category":"consumption","input_dependency":"None"},{"model":"GenieFunnelModel","category":"consumption","input_dependency":"None"},{"model":"UpdateContentModel","category":"consumption","input_dependency":"None"},{"model":"ConsumptionMetricsUpdater","category":"consumption","input_dependency":"None"},{"model":"PrecomputedViews","category":"consumption","input_dependency":"None"},{"model":"DataExhaustJob","category":"consumption","input_dependency":"None"},{"model":"AppUsageSummaryModel","category":"creation","input_dependency":"AppSessionSummaryModel"},{"model":"ContentEditorUsageSummaryModel","category":"creation","input_dependency":"ContentEditorSessionSummaryModel"},{"model":"TextbookUsageSummaryModel","category":"creation","input_dependency":"TextbookSessionSummaryModel"},{"model":"UpdateAppUsageDB","category":"creation","input_dependency":"AppUsageSummaryModel"},{"model":"UpdateContentEditorUsageDB","category":"creation","input_dependency":"ContentEditorUsageSummaryModel"},{"model":"UpdateTextbookUsageDB","category":"creation","input_dependency":"TextbookUsageSummaryModel"},{"model":"UpdateAuthorSummaryDB","category":"creation","input_dependency":"AuthorUsageSummaryModel"},{"model":"UpdatePublishPipelineSummarycreation","category":"creation","input_dependency":"PublishPipelineSummaryModel"},{"model":"AppSessionSummaryModel","category":"creation","input_dependency":"None"},{"model":"ContentEditorSessionSummaryModel","category":"creation","input_dependency":"None"},{"model":"PublishPipelineSummaryModel","category":"creation","input_dependency":"None"},{"model":"UpdateObjectLifecycleDB","category":"creation","input_dependency":"None"},{"model":"UpdateContentCreationMetricsDB","category":"creation","input_dependency":"None"},{"model":"AuthorUsageSummaryModel","category":"creation","input_dependency":"None"},{"model":"TextbookSessionSummaryModel","category":"creation","input_dependency":"None"},{"model":"UpdateCreationMetricsDB","category":"creation","input_dependency":"None"},{"model":"UpdateConceptSnapshotDB","category":"creation","input_dependency":"None"},{"model":"ContentSnapshotSummaryModel","category":"creation","input_dependency":"None"},{"model":"ConceptSnapshotSummaryModel","category":"creation","input_dependency":"None"},{"model":"UpdateContentSnapshotDB","category":"creation","input_dependency":"None"},{"model":"AssetSnapshotSummaryModel","category":"creation","input_dependency":"None"},{"model":"UpdateTextbookSnapshotDB","category":"creation","input_dependency":"None"},{"model":"UpdateAssetSnapshotDB","category":"creation","input_dependency":"None"},{"model":"ContentLanguageRelationModel","category":"creation","input_dependency":"None"},{"model":"ConceptLanguageRelationModel","category":"creation","input_dependency":"None"},{"model":"AuthorRelationsModel","category":"creation","input_dependency":"None"},{"model":"CreationRecommendationEnrichmentModel","category":"creation","input_dependency":"None"},{"model":"ContentAssetRelationModel","category":"creation","input_dependency":"None"},{"model":"DeviceRecommendationTrainingModel","category":"recommendation","input_dependency":"None"},{"model":"DeviceRecommendationScoringModel","category":"recommendation","input_dependency":"None"},{"model":"ContentVectorsModel","category":"recommendation","input_dependency":"None"},{"model":"EndOfContentRecommendationModel","category":"recommendation","input_dependency":"None"},{"model":"CreationRecommendationModel","category":"recommendation","input_dependency":"None"},{"model":"UpdatePluginSnapshotDB","category":"creation","input_dependency":"None"},{"model":"UpdateTemplateSnapshotDB","category":"creation","input_dependency":"None"},{"model":"AppUsageMetricCreationModel","category":"creation","input_dependency":"None"},{"model":"AssetSnapshotMetricCreationModel","category":"consumption","input_dependency":"None"},{"model":"CEUsageMetricCreationModel","category":"creation","input_dependency":"None"},{"model":"ConceptSnapshotMetricCreationModel","category":"consumption","input_dependency":"None"},{"model":"ContentSnapshotMetricCreationModel","category":"consumption","input_dependency":"None"},{"model":"ContentUsageMetricCreationModel","category":"consumption","input_dependency":"None"},{"model":"GenieUsageMetricCreationModel","category":"consumption","input_dependency":"None"},{"model":"ItemUsageMetricCreationModel","category":"consumption","input_dependency":"None"},{"model":"TextbookSnapshotMetricCreationModel","category":"creation","input_dependency":"None"},{"model":"TextbookUsageMetricCreationModel","category":"creation","input_dependency":"None"},{"model":"AuthorUsageMetricCreationModel","category":"creation","input_dependency":"None"}]},"output":[{"to":"console","params":{"printEvent":false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"appName":"TestMonitorSummarizer","deviceMapping":true}'
        echo '{"search":{"type":"local","queries":[{"file":"'$analytics_home'/scripts/logs/joblog.log"}]},"model":"org.ekstep.analytics.model.MonitorSummaryModel","modelParams":{"model":[{"model":"ItemSummaryModel","category":"consumption","input_dependency":"LearnerSessionSummaryModel"},{"model":"GenieUsageSummaryModel","category":"consumption","input_dependency":"GenieLaunchSummaryModel"},{"model":"GenieStageSummaryModel","category":"consumption","input_dependency":"GenieLaunchSummaryModel"},{"model":"ItemUsageSummaryModel","category":"consumption","input_dependency":"ItemSummaryModel"},{"model":"DeviceContentUsageSummaryModel","category":"consumption","input_dependency":"LearnerSessionSummaryModel"},{"model":"DeviceUsageSummaryModel","category":"consumption","input_dependency":"GenieLaunchSummaryModel"},{"model":"UpdateGenieUsageDB","category":"consumption","input_dependency":"GenieUsageSummaryModel"},{"model":"UpdateItemSummaryDB","category":"consumption","input_dependency":"ItemUsageSummaryModel"},{"model":"UpdateContentUsageDB","category":"consumption","input_dependency":"ContentUsageSummaryModel"},{"model":"UpdateMEUsageDB","category":"consumption","input_dependency":"UsageSummaryModel"},{"model":"UpdateContentPopularityDB","category":"consumption","input_dependency":"ContentPopularitySummaryModel"},{"model":"ContentUsageSummaryModel","category":"consumption","input_dependency":"LearnerSessionSummaryModel"},{"model":"UsageSummaryModel","category":"consumption","input_dependency":"LearnerSessionSummaryModel"},{"model":"UpdateLearnerProfileDB","category":"consumption","input_dependency":"None"},{"model":"UpdateDeviceSpecificationDB","category":"consumption","input_dependency":"None"},{"model":"LearnerSessionSummaryModel","category":"consumption","input_dependency":"None"},{"model":"GenieSessionSummaryModel","category":"consumption","input_dependency":"None"},{"model":"GenieLaunchSummaryModel","category":"consumption","input_dependency":"None"},{"model":"ContentPopularitySummaryModel","category":"consumption","input_dependency":"None"},{"model":"EOCRecommendationFunnelModel","category":"consumption","input_dependency":"None"},{"model":"StageSummaryModel","category":"consumption","input_dependency":"None"},{"model":"GenieFunnelAggregatorModel","category":"consumption","input_dependency":"None"},{"model":"ContentSideloadingSummaryModel","category":"consumption","input_dependency":"None"},{"model":"GenieFunnelModel","category":"consumption","input_dependency":"None"},{"model":"UpdateContentModel","category":"consumption","input_dependency":"None"},{"model":"ConsumptionMetricsUpdater","category":"consumption","input_dependency":"None"},{"model":"PrecomputedViews","category":"consumption","input_dependency":"None"},{"model":"DataExhaustJob","category":"consumption","input_dependency":"None"},{"model":"AppUsageSummaryModel","category":"creation","input_dependency":"AppSessionSummaryModel"},{"model":"ContentEditorUsageSummaryModel","category":"creation","input_dependency":"ContentEditorSessionSummaryModel"},{"model":"TextbookUsageSummaryModel","category":"creation","input_dependency":"TextbookSessionSummaryModel"},{"model":"UpdateAppUsageDB","category":"creation","input_dependency":"AppUsageSummaryModel"},{"model":"UpdateContentEditorUsageDB","category":"creation","input_dependency":"ContentEditorUsageSummaryModel"},{"model":"UpdateTextbookUsageDB","category":"creation","input_dependency":"TextbookUsageSummaryModel"},{"model":"UpdateAuthorSummaryDB","category":"creation","input_dependency":"AuthorUsageSummaryModel"},{"model":"UpdatePublishPipelineSummarycreation","category":"creation","input_dependency":"PublishPipelineSummaryModel"},{"model":"AppSessionSummaryModel","category":"creation","input_dependency":"None"},{"model":"ContentEditorSessionSummaryModel","category":"creation","input_dependency":"None"},{"model":"PublishPipelineSummaryModel","category":"creation","input_dependency":"None"},{"model":"UpdateObjectLifecycleDB","category":"creation","input_dependency":"None"},{"model":"UpdateContentCreationMetricsDB","category":"creation","input_dependency":"None"},{"model":"AuthorUsageSummaryModel","category":"creation","input_dependency":"None"},{"model":"TextbookSessionSummaryModel","category":"creation","input_dependency":"None"},{"model":"UpdateCreationMetricsDB","category":"creation","input_dependency":"None"},{"model":"UpdateConceptSnapshotDB","category":"creation","input_dependency":"None"},{"model":"ContentSnapshotSummaryModel","category":"creation","input_dependency":"None"},{"model":"ConceptSnapshotSummaryModel","category":"creation","input_dependency":"None"},{"model":"UpdateContentSnapshotDB","category":"creation","input_dependency":"None"},{"model":"AssetSnapshotSummaryModel","category":"creation","input_dependency":"None"},{"model":"UpdateTextbookSnapshotDB","category":"creation","input_dependency":"None"},{"model":"UpdateAssetSnapshotDB","category":"creation","input_dependency":"None"},{"model":"ContentLanguageRelationModel","category":"creation","input_dependency":"None"},{"model":"ConceptLanguageRelationModel","category":"creation","input_dependency":"None"},{"model":"AuthorRelationsModel","category":"creation","input_dependency":"None"},{"model":"CreationRecommendationEnrichmentModel","category":"creation","input_dependency":"None"},{"model":"ContentAssetRelationModel","category":"creation","input_dependency":"None"},{"model":"DeviceRecommendationTrainingModel","category":"recommendation","input_dependency":"None"},{"model":"DeviceRecommendationScoringModel","category":"recommendation","input_dependency":"None"},{"model":"ContentVectorsModel","category":"recommendation","input_dependency":"None"},{"model":"EndOfContentRecommendationModel","category":"recommendation","input_dependency":"None"},{"model":"CreationRecommendationModel","category":"recommendation","input_dependency":"None"},{"model":"UpdatePluginSnapshotDB","category":"creation","input_dependency":"None"},{"model":"UpdateTemplateSnapshotDB","category":"creation","input_dependency":"None"},{"model":"AppUsageMetricCreationModel","category":"creation","input_dependency":"None"},{"model":"AssetSnapshotMetricCreationModel","category":"consumption","input_dependency":"None"},{"model":"CEUsageMetricCreationModel","category":"creation","input_dependency":"None"},{"model":"ConceptSnapshotMetricCreationModel","category":"consumption","input_dependency":"None"},{"model":"ContentSnapshotMetricCreationModel","category":"consumption","input_dependency":"None"},{"model":"ContentUsageMetricCreationModel","category":"consumption","input_dependency":"None"},{"model":"GenieUsageMetricCreationModel","category":"consumption","input_dependency":"None"},{"model":"ItemUsageMetricCreationModel","category":"consumption","input_dependency":"None"},{"model":"TextbookSnapshotMetricCreationModel","category":"creation","input_dependency":"None"},{"model":"TextbookUsageMetricCreationModel","category":"creation","input_dependency":"None"},{"model":"AuthorUsageMetricCreationModel","category":"creation","input_dependency":"None"}]},"output":[{"to":"console","params":{"printEvent":false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"appName":"TestMonitorSummarizer","deviceMapping":true}'

        ;;
        "template-snapshot-updater")
        echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/cus/","endDate":"'$endDate'","delta":0,"folder":"true"}]}, "appName":"Template Snapshot Metrics Updater", "modelParams": {}, "output":[{"to":"console","params":{"printEvent": false}}]}'
        ;;
        "usage-summary")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/ss/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.model.MEUsageSummary","output":[{"to":"s3","params":{"bucket": "'$bucket'","key": "'$temp_folder'/usage-summary/'$endDate'"}},{"to":"console","params":{"printEvent":false}},{"to":"kafka","params":{"brokerList":"'$brokerList'","topic":"'$topic'"}}],"parallelization":10,"appName":"ME Usage Summarizer","deviceMapping":false}'
		;;
		"usage-updater")
		echo '{"search":{"type":"s3","queries":[{"bucket":"'$bucket'","prefix":"'$temp_folder'/usage-summary/","endDate":"'$endDate'","delta":0,"folder":"true"}]},"model":"org.ekstep.analytics.updater.MEUsageUpdater","output":[{"to":"console","params":{"printEvent":false}}],"parallelization":10,"appName":"ME Usage Updater","deviceMapping":false}'
		;;
		"*")
		echo "Unknown model code"
      	exit 1 # Command to come out of the program with status 1
      	;;
	esac
}
